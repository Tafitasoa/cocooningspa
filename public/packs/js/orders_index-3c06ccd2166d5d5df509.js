!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/packs/",a(a.s=11)}({11:function(e,t,a){var s,n;function i(){sessionStorage.setItem("prestations","{}"),sessionStorage.setItem("spa","[]"),sessionStorage.setItem("massages","[]"),sessionStorage.setItem("cadeau","[]"),sessionStorage.setItem("inc","0")}function o(){var e=this.value,t=document.getElementById("Departement"),a=document.getElementById("list-department");"France"==e?(t.removeAttribute("disabled"),a.removeAttribute("class")):(t.setAttribute("disabled","disabled"),a.classList.add("hidden"))}function l(){var e=JSON.parse(sessionStorage.getItem("prestations"));e.praticien=this.value,sessionStorage.setItem("prestations",JSON.stringify(e))}function r(){var e=JSON.parse(sessionStorage.getItem("inc"));return e++,sessionStorage.setItem("inc",JSON.stringify(e)),e}function d(){for(var e=JSON.parse(sessionStorage.getItem("spa")),t=e.length-1;t>=0;t--)if(e[t].id==this.dataset.index){e[t].info[0]=this.value;break}sessionStorage.setItem("spa",JSON.stringify(e))}function m(){for(var e=JSON.parse(sessionStorage.getItem("spa")),t=e.length-1;t>=0;t--)if(e[t].id==this.dataset.index){e[t].info[1]=this.value;break}sessionStorage.setItem("spa",JSON.stringify(e))}function c(){for(var e=JSON.parse(sessionStorage.getItem("spa")),t=e.length-1;t>=0;t--)if(e[t].id==this.dataset.index){e[t].info[2]=this.value;break}sessionStorage.setItem("spa",JSON.stringify(e))}function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=document.getElementById("form-data").dataset,i=JSON.parse(n.spas),o=JSON.parse(n.spaoptions),l="<div class='col-sm-3'><h4><center class=\"titleSpa dureTitle\">Dur\xe9e location</center></h4>",r=0;r<i.length;r++)l+=t==r?'<div class="duree-spa"><input class="time-spa-list" type="radio" id="'+e+"h"+i[r][0]+'" checked name="timeSpa['+e+'][]" value="'+i[r][0]+'" data-prices="['+i[r][1]+","+i[r][2]+']" data-acompte="['+i[r][3]+","+i[r][4]+']" data-index="'+e+'" data-array="'+r+'"><label for="'+e+"h"+i[r][0]+'" class="label-spa">'+i[r][0]+"h</label></div>":'<div class="duree-spa"><input class="time-spa-list" type="radio" id="'+e+"h"+i[r][0]+'" name="timeSpa['+e+'][]" value="'+i[r][0]+'" data-prices="['+i[r][1]+","+i[r][2]+']" data-acompte="['+i[r][3]+","+i[r][4]+']" data-index="'+e+'" data-array="'+r+'"><label for="'+e+"h"+i[r][0]+'" class="label-spa">'+i[r][0]+"h</label></div>";l+="</div><div class='col-sm-4 ambianceresponsive'><h4><center class=\"titleSpa\">Ambiance</center></h4>";for(r=0;r<o.length;r++)a.includes(r)?l+='<div class="list-ambiance"><input class="option-spa-list" type="checkbox" checked name="optionSpa['+e+'][]" value="'+o[r][1]+'" id="opt'+o[r][0]+e+'" data-array="'+r+'" data-price="'+o[r][2]+'" data-index="'+e+'" ><label for="opt'+o[r][0]+e+'" class="label-option-spa">'+o[r][1]+'</label><i class="fa fa-question-circle questionMarkSpa" aria-hidden="true" data-toggle="modal" data-target="#'+o[r][1]+'"></i></div>':l+="string"!=typeof a?'<div class="list-ambiance"><input class="option-spa-list" type="checkbox" name="optionSpa['+e+'][]" value="'+o[r][1]+'" id="opt'+o[r][0]+e+'" data-array="'+r+'" data-price="'+o[r][2]+'" data-index="'+e+'" ><label for="opt'+o[r][0]+e+'" class="label-option-spa">'+o[r][1]+'</label><i class="fa fa-question-circle questionMarkSpa" aria-hidden="true" data-toggle="modal" data-target="#'+o[r][1]+'"></i></div>':'<div class="list-ambiance"><input class="option-spa-list" type="checkbox" name="optionSpa['+e+'][]" value="'+o[r][1]+'" id="opt'+o[r][0]+e+'" data-array="'+r+'" data-price="'+o[r][2]+'" data-index="'+e+'" disabled ><label for="opt'+o[r][0]+e+'" class="label-option-spa">'+o[r][1]+'</label><i class="fa fa-question-circle questionMarkSpa" aria-hidden="true" data-toggle="modal" data-target="#'+o[r][1]+'"></i></div>';function d(e,t){return e==t?'selected="selected"':""}return l+=""!=s?'</div><div class="col-sm-5 fin-spa"><h4><center class="titleSpa informationTitle">Informations sur la location</center></h4><br><div class="infoSpa"><label class="label-info-spa" for="logement'+e+'">Type de logement</label><select class="logement selectElement select-dro" data-index="'+e+'" name="typeSpa['+e+'][]" id="logement'+e+'" ><option value="Appartement" '+d(s[0],"Appartement")+'>Appartement</option><option value="Villa - Maison" '+d(s[0],"Villa - Maison")+' >Villa - Maison</option></select></div><div class="infoSpa"><label for="installation'+e+'" class="label-info-spa">Type d\'installation</label><select class="installation selectElement select-dro" data-index="'+e+'" name="typeSpa['+e+'][]" id="installation'+e+'"><option value="Int\xe9rieur" '+d(s[1],"Int\xe9rieur")+'>Int\xe9rieur</option><option value="Ext\xe9rieur" '+d(s[1],"Ext\xe9rieur")+'>Ext\xe9rieur</option></select></div><div class="infoSpa"><label for="eau'+e+'" class="label-info-spa">Syst\xe8me d\'eau</label><select class="typeSpa selectElement select-dro" data-index="'+e+'" name="typeSpa['+e+'][]" id="eau'+e+'" ><option value="Cumulus - Ballon d\'eau (eau chaude limit\xe9e)"  '+d(s[2],"Cumulus - Ballon d'eau (eau chaude limit\xe9e)")+'>Cumulus - Ballon d\'eau (eau chaude limit\xe9e)</option><option value="Chaudi\xe8re (eau chaude continue)" '+d(s[2],"Chaudi\xe8re (eau chaude continue)")+" >Chaudi\xe8re (eau chaude continue)</option></select></div></div>":'</div><div class="col-sm-5 fin-spa"><h4><center class="titleSpa informationTitle">Informations sur la location</center></h4><br><div class="infoSpa"><label class="label-info-spa" for="logement'+e+'">Type de logement</label><select class="logement selectElement select-dro" data-index="'+e+'" name="typeSpa['+e+'][]" id="logement'+e+'" ><option value="Appartement" selected="selected">Appartement</option><option value="Villa - Maison">Villa - Maison</option></select></div><div class="infoSpa"><label for="installation'+e+'" class="label-info-spa">Type d\'installation</label><select class="installation selectElement select-dro" data-index="'+e+'" name="typeSpa['+e+'][]" id="installation'+e+'"><option value="Int\xe9rieur" selected="selected">Int\xe9rieur</option><option value="Ext\xe9rieur">Ext\xe9rieur</option></select></div><div class="infoSpa"><label for="eau'+e+'" class="label-info-spa">Syst\xe8me d\'eau</label><select class="typeSpa selectElement select-dro" data-index="'+e+'" name="typeSpa['+e+'][]" id="eau'+e+'" ><option value="Cumulus - Ballon d\'eau (eau chaude limit\xe9e)" selected="selected">Cumulus - Ballon d\'eau (eau chaude limit\xe9e)</option><option value="Chaudi\xe8re (eau chaude continue)">Chaudi\xe8re (eau chaude continue)</option></select></div></div>'}function p(){var e=document.getElementsByClassName("spa-list-prestations");document.getElementById("number-spa").innerHTML=e.length}function g(e){var t=document.getElementsByClassName("massage-list-"+e);document.getElementById("number-"+e).innerHTML=t.length}function f(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=document.getElementById("form-data").dataset,i=JSON.parse(n.massages),o=[];o="Homme"==e?i[0]:i[1];for(var l=[],r="",d="",m=0;m<o[1].length;m++){r+='<div class="massage-type">',0==m&&(r+='<input type="text" name="massageSu['+t+'][]" value="'+e+'" class="hidden">'),null!=a&&a==m?(r+='<input type="checkbox" value="'+o[1][m][0]+'" checked id="sub'+m+t+'" class="massage-su" name="massageSu['+t+'][]" data-info="['+[t,m]+']"><label class="label-massage" for="sub'+m+t+'"> '+o[1][m][0]+' </label><i class="fa fa-question-circle questionMark" aria-hidden="true" data-toggle="modal" data-target="#modal'+m+t+'"></i>',d+='<div class="times-massage" data-info="['+[t,m]+']" ><ul>'):(r+='<input type="checkbox" value="'+o[1][m][0]+'" id="sub'+m+t+'" class="massage-su" name="massageSu['+t+'][]" data-info="['+[t,m]+']"><label class="label-massage" for="sub'+m+t+'"> '+o[1][m][0]+' </label><i class="fa fa-question-circle questionMark" aria-hidden="true" data-toggle="modal" data-target="#modal'+m+t+'"></i>',d+='<div class="times-massage hidden" data-info="['+[t,m]+']" ><ul>'),r+="</div>",l=o[1][m][1];for(var c=0;c<l.length;c++)d+=null!=s&&s==c&&null!=a&&a==m?'<li class="duree-massage"><input class="input-time-list time-spa-list" type="radio" value="'+l[c][0]+'" checked id="time'+c+m+t+'" name="massageSuPrice['+t+'][]" data-info="['+[t,m,c]+']" data-price="['+[l[c][1],l[c][2],l[c][3],l[c][4]]+']" data-sub="'+o[1][m][0]+'" data-name="'+e+'" ><label class="form label-spa" for="time'+c+m+t+'"> '+l[c][0]+" </label></li>":'<li class="duree-massage"><input class="input-time-list time-spa-list" type="radio" value="'+l[c][0]+'" id="time'+c+m+t+'" name="massageSuPrice['+t+'][]" data-info="['+[t,m,c]+']" data-price="['+[l[c][1],l[c][2],l[c][3],l[c][4]]+']" data-sub="'+o[1][m][0]+'" data-name="'+e+'" ><label class="form label-spa" for="time'+c+m+t+'"> '+l[c][0]+" </label></li>";d+="</ul></div>"}return'<div class="row"><div class="col-sm-12 sm-9-spa"><div class="innerWrapper"><div class="table-responsive table-responsiveInfos"><table class="table tableInfos"><thead><tr class="tr"><th id="tableHead">'+e+'</th></tr></thead></table></div></div></div></div><div class="row"><div class="col-sm-10"><h4><center class="titleMassage">Types de massage</center></h4><div class="sm-6-massage">'+r+'</div></div><div class="col-sm-2 col-sm2Duree"><h4>Dur\xe9e(min)</h4>'+d+"</div></div>"}function v(){var e=JSON.parse(document.getElementById("form-data").dataset.massages),t=JSON.parse(this.dataset.info)[0];document.getElementById("list-order-"+t).classList.add("hidden");for(var a=document.getElementsByClassName("times-massage"),s=[],n=[],i=JSON.parse(sessionStorage.getItem("massages")),o=i.length-1;o>=0;o--)i[o].id==t&&(i[o].sub=JSON.parse(this.dataset.info)[1],i[o].time="");sessionStorage.setItem("massages",JSON.stringify(i));for(o=0;o<a.length;o++)if(JSON.parse(a[o].dataset.info)[0]==t){s=a[o].parentElement.getElementsByTagName("div"),n=a[o].parentElement.getElementsByTagName("input");break}for(o=n.length-1;o>=0;o--)n[o].checked=!1;var l=document.getElementsByClassName("massage-su");for(o=l.length-1;o>=0;o--)JSON.parse(l[o].dataset.info)[0]==t&&l[o]!=this&&(l[o].checked=!1);if(this.checked)for(o=0;o<s.length;o++)s[o].dataset.info==this.dataset.info?s[o].className="times-massage":s[o].className="times-massage hidden";else for(o=0;o<s.length;o++)s[o].dataset.info==this.dataset.info&&(s[o].className="times-massage hidden");A(e),P()}function h(){var e=JSON.parse(sessionStorage.getItem("prestations"));"heureMassage"==this.name?e.heureMassage=this.value:e.heureSpa=this.value,sessionStorage.setItem("prestations",JSON.stringify(e))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=document.createElement("div");a.classList.add("spa-list-prestations"),a.innerHTML=""!=t?u(t[0],t[1],t[2],t[3]):u(e),document.getElementById("spa-input").appendChild(a),document.querySelectorAll(".time-spa-list").forEach((function(e){e.addEventListener("change",b)})),document.querySelectorAll(".option-spa-list").forEach((function(e){e.addEventListener("change",N)}));var s=document.querySelectorAll(".logement"),n=document.querySelectorAll(".installation"),i=document.querySelectorAll(".typeSpa");s.forEach((function(e){e.addEventListener("change",d)})),n.forEach((function(e){e.addEventListener("change",m)})),i.forEach((function(e){e.addEventListener("change",c)})),function(e){var t=document.getElementById("spa-order"),a=document.createElement("div");a.classList="spa-order hidden",a.setAttribute("id","spa-list-"+e),a.innerHTML='<p class="ul-panier"><span class="spa-duration">Spa pour : <span id="spa-time-'+e+'"></span> h </span><br><span id="spa-price-'+e+'"></span></p><ul></ul>',t.appendChild(a)}(e),p(),P()}function y(){var e=r(),t=JSON.parse(sessionStorage.getItem("spa"));t.push({id:e,time:"",option:[],info:["Appartement","Int\xe9rieur","Cumulus - Ballon d'eau (eau chaude limit\xe9e)"]}),sessionStorage.setItem("spa",JSON.stringify(t)),S(e)}function I(){var e=JSON.parse(document.getElementById("form-data").dataset.spas),t=JSON.parse(document.getElementById("form-data").dataset.spaoptions),a=JSON.parse(sessionStorage.getItem("spa"));a.pop(),sessionStorage.setItem("spa",JSON.stringify(a)),_();var s,n=document.getElementsByClassName("spa-list-prestations");n.length>0&&(n[n.length-1].remove(),(s=document.getElementsByClassName("spa-order"))[s.length-1].remove(),0==s.length&&document.getElementById("spa-order").classList.add("hidden"),J(t,e)),p(),P()}function b(){for(var e=JSON.parse(document.getElementById("form-data").dataset.spas),t=JSON.parse(document.getElementById("form-data").dataset.spaoptions),a=this.dataset.index,s=JSON.parse(sessionStorage.getItem("spa")),n=document.querySelectorAll(".option-spa-list[data-index='"+a+"']"),i=n.length-1;i>=0;i--)n[i].removeAttribute("disabled");for(i=s.length-1;i>=0;i--)if(s[i].id==a){s[i].time=this.dataset.array;break}sessionStorage.setItem("spa",JSON.stringify(s)),_(),E(this.value,a,t,e)}function E(e,t,a,s){document.getElementById("spa-order").classList.remove("hidden"),document.getElementById("spa-list-"+t).classList.remove("hidden"),document.getElementById("spa-time-"+t).innerHTML=e,B(t,a,s),J(a,s)}function N(){var e=this,t=JSON.parse(document.getElementById("form-data").dataset.spas),a=JSON.parse(document.getElementById("form-data").dataset.spaoptions),s=this.dataset.index,n=JSON.parse(this.dataset.array),i=JSON.parse(sessionStorage.getItem("spa")),o=[];if(this.checked){for(var l=i.length-1;l>=0;l--)if(i[l].id==s){i[l].option=[n],o=i[l].option;break}}else for(l=i.length-1;l>=0;l--)if(i[l].id==s){i[l].option=[],o=i[l].option;break}document.querySelectorAll(".option-spa-list[data-index='"+s+"']").forEach((function(t){e!=t&&(t.checked=!1)})),sessionStorage.setItem("spa",JSON.stringify(i)),O(s,a,t,o)}function O(e,t,a,s){for(var n=document.getElementById("spa-list-"+e).getElementsByTagName("ul"),i="",o=0;o<s.length;o++)i+='<li class="li-ambiance">Ambiance : '+t[s[o]][1]+"</li>";n[0].innerHTML=i,B(e,t,a),J(t,a)}function B(e,t,a){var s=[["14","02"],["24","12"],["25","12"],["31","12"]],n=JSON.parse(sessionStorage.getItem("zone"));n=n.date.split("/");for(var i=!1,o=s.length-1;o>=0;o--)if(s[o][0]==n[0]&&s[o][1]==n[1]){i=!0;break}var l=document.getElementById("spa-price-"+e),r=[0,0],d=JSON.parse(sessionStorage.getItem("spa"));for(o=d.length-1;o>=0;o--)if(d[o].id==e){i?(r[0]+=a[d[o].time][1],r[1]+=a[d[o].time][3]):(r[0]+=a[d[o].time][2],r[1]+=a[d[o].time][4]);for(var m=d[o].option,c=m.length-1;c>=0;c--)r[0]+=t[m[c]][2];l.innerHTML='<li class="li-prix hidden">Prix : '+r[0]+'\u20ac </li><li class="li-acompte hidden">Acompte : '+r[1]+"\u20ac</li>";break}}function J(e,t){var a=[["14","02"],["24","12"],["25","12"],["31","12"]],s=JSON.parse(sessionStorage.getItem("zone"));s=s.date.split("/");for(var n=!1,i=a.length-1;i>=0;i--)if(a[i][0]==s[0]&&a[i][1]==s[1]){n=!0;break}var o=document.getElementById("spa-price-total"),l=[0,0],r=JSON.parse(sessionStorage.getItem("spa")),d="";for(i=r.length-1;i>=0;i--)if(""!=r[i].time){n?(l[0]+=t[r[i].time][1],l[1]+=t[r[i].time][3]):(l[0]+=t[r[i].time][2],l[1]+=t[r[i].time][4]);for(var m=(d=r[i].option).length-1;m>=0;m--)l[0]+=e[d[m]][2]}var c=JSON.parse(sessionStorage.getItem("prestations"));c.priceSpa=l[0],sessionStorage.setItem("prestations",JSON.stringify(c)),o.innerHTML=" : "+l[0]+" \u20ac ",o.dataset.price="["+[l[0],l[1]]+"]",P()}function L(){var e=r(),t=document.getElementById("form-data").dataset,a=JSON.parse(t.massages),s=[];s="Homme"==this.dataset.cat?a[0]:a[1];var n=JSON.parse(sessionStorage.getItem("massages"));if(n.push({id:e,cat:s[0],sub:"",time:""}),sessionStorage.setItem("massages",JSON.stringify(n)),n.length>=1){var i=document.getElementById("addHomme"),o=document.getElementById("addFemme");i.addEventListener("click",c),o.addEventListener("click",c)}if(n){var l=document.getElementById("moinHomme"),d=document.getElementById("moinFemme");l.addEventListener("click",m),d.addEventListener("click",m)}function m(){var e=document.getElementById("addHomme"),t=document.getElementById("addFemme");e.removeAttribute("data-target"),e.removeAttribute("data-toggle"),t.removeAttribute("data-target"),t.removeAttribute("data-toggle"),n.length>0&&n.splice(-1,1)}function c(){var e=document.getElementById("addHomme"),t=document.getElementById("addFemme");n.length>=1&&(e.setAttribute("data-target","#pushMassage2"),e.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#pushMassage2"),t.setAttribute("data-toggle","modal"))}k(this.dataset.cat,e)}function k(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=document.createElement("div");n.classList.add("massage-list-"+e),n.innerHTML=null!=a&&null!=s?f(e,t,a,s):f(e,t),document.getElementById("massage-order").innerHTML+='<div id="list-order-'+t+'" class="hidden"><div><p class="msg-duration">'+e+'</p></div><div class="prestation-message"><li class="li-msgType"></li><div><ul></ul></div></div></div>',document.getElementById("massage-input").appendChild(n),g(e),document.querySelectorAll(".massage-su").forEach((function(e){e.addEventListener("change",v)})),document.querySelectorAll(".input-time-list").forEach((function(e){e.addEventListener("change",M)})),P()}function M(){JSON.parse(document.getElementById("form-data").dataset.spas),JSON.parse(document.getElementById("form-data").dataset.spaoptions);for(var e=JSON.parse(document.getElementById("form-data").dataset.massages),t=JSON.parse(this.dataset.info),a=JSON.parse(sessionStorage.getItem("massages")),s=a.length-1;s>=0;s--)a[s].id==t[0]&&(a[s].time=t[2],_());sessionStorage.setItem("massages",JSON.stringify(a)),x(e,t[0]),A(e)}function x(e,t){var a=[["14","02"],["24","12"],["25","12"],["31","12"]],s=JSON.parse(sessionStorage.getItem("zone"));s=s.date.split("/");for(var n=!1,i=a.length-1;i>=0;i--)if(a[i][0]==s[0]&&a[i][1]==s[1]){n=!0;break}var o="",l="",r="",d=JSON.parse(sessionStorage.getItem("massages"));for(i=d.length-1;i>=0;i--)if(d[i].id==t){o=d[i].sub,l=d[i].time,r=d[i].cat;break}var m=[];m="Homme"==r?e[0]:e[1];var c=document.getElementById("list-order-"+t);document.getElementById("massage-order").classList.remove("hidden"),c.classList.remove("hidden"),c.getElementsByTagName("li")[0].innerHTML=m[1][o][0],c.getElementsByTagName("ul")[0].innerHTML=n?'<li class="li-msgPrix hidden">Prix: '+m[1][o][1][l][1]+'\u20ac</li><li class="li-msgAcompte hidden">Acompte: '+m[1][o][1][l][2]+"\u20ac</li>":'<li class="li-msgPrix hidden">Prix: '+m[1][o][1][l][3]+'\u20ac</li><li class="li-msgAcompte hidden">Acompte: '+m[1][o][1][l][4]+"\u20ac</li>"}function A(e){var t=[["14","02"],["24","12"],["25","12"],["31","12"]],a=JSON.parse(sessionStorage.getItem("zone"));a=a.date.split("/");for(var s=!1,n=t.length-1;n>=0;n--)if(t[n][0]==a[0]&&t[n][1]==a[1]){s=!0;break}var i=JSON.parse(sessionStorage.getItem("massages")),o=0,l=0;for(n=i.length-1;n>=0;n--)if("number"==typeof i[n].sub&&"number"==typeof i[n].time){var r=[];r="Homme"==i[n].cat?e[0]:e[1],s?(o+=r[1][i[n].sub][1][i[n].time][1],l+=r[1][i[n].sub][1][i[n].time][2]):(o+=r[1][i[n].sub][1][i[n].time][3],l+=r[1][i[n].sub][1][i[n].time][4])}document.getElementById("massage-price-total").innerHTML=" : "+o+"\u20ac"+l+"\u20ac",document.getElementById("massage-price-total").dataset.price="["+[o,l]+"]";var d=JSON.parse(sessionStorage.getItem("prestations"));d.priceMassage=o,sessionStorage.setItem("prestations",JSON.stringify(d)),document.getElementById("massage-price-total").innerHTML=" : "+o+" \u20ac ",0==o&&0==l&&document.getElementById("massage-order").classList.add("hidden"),P()}function T(){for(var e=JSON.parse(document.getElementById("form-data").dataset.massages),t=JSON.parse(sessionStorage.getItem("massages")),a=t.length-1;a>=0;a--)if(t[a].cat==this.dataset.cat){document.getElementById("list-order-"+t[a].id).remove(),t.splice(a,1);break}sessionStorage.setItem("massages",JSON.stringify(t));var s=document.getElementsByClassName("massage-list-"+this.dataset.cat);s.length>0&&s[s.length-1].remove(),g(this.dataset.cat),_(),A(e),P()}function H(){for(var e=JSON.parse(this.dataset.id),t=JSON.parse(sessionStorage.getItem("cadeau")),a=t.length-1;a>=0;a--)if(t[a][0]==e){t[a][1]--,document.getElementById(e+"-nbr").innerHTML=t[a][1],0==t[a][1]&&t.splice(a,1);break}sessionStorage.setItem("cadeau",JSON.stringify(t)),_();var s=JSON.parse(sessionStorage.getItem("cadeau"));valueInInput="";for(a=s.length-1;a>=0;a--)valueInInput+=s[a][0]+"-"+s[a][1]+"|";document.getElementById("cadeau-id").value=valueInInput,q()}function C(){for(var e=JSON.parse(this.dataset.id),t=JSON.parse(sessionStorage.getItem("cadeau")),a=!0,s=t.length-1;s>=0;s--)if(t[s][0]==e){a=!1,t[s][1]++,document.getElementById(e+"-nbr").innerHTML=t[s][1];break}a&&(t.push([e,1,this.dataset.name,this.dataset.price]),document.getElementById(e+"-nbr").innerHTML=1),sessionStorage.setItem("cadeau",JSON.stringify(t)),_();var n=JSON.parse(sessionStorage.getItem("cadeau"));valueInInput="";for(s=n.length-1;s>=0;s--)valueInInput+=n[s][0]+"-"+n[s][1]+"|";document.getElementById("cadeau-id").value=valueInInput,q()}function q(){var e=document.querySelectorAll(".cadeau-add");infoCadeau=[],e.forEach((function(e){infoCadeau.push([JSON.parse(e.dataset.id),e.dataset.name,JSON.parse(e.dataset.price)])}));for(var t=JSON.parse(sessionStorage.getItem("cadeau")),a=document.getElementById("cadeau-order"),s=0,n="<ul>",i=0;i<t.length;i++)for(var o=infoCadeau.length-1;o>=0;o--)if(t[i][0]==infoCadeau[o][0]){s+=t[i][1]*infoCadeau[o][2],n+='<li class="li-cadeau">'+infoCadeau[i][1]+'<div class="nbr-cadeau"> Nombres : '+t[i][1]+" <br> Prix : "+t[i][1]*infoCadeau[o][2]+" \u20ac </br></li>";break}0==s?(a.classList.remove("hidden"),a.classList.add("hidden"),document.getElementById("cadeau-price-total").innerHTML=""):(a.classList.remove("hidden"),document.getElementById("cadeau-price-total").innerHTML=s,a.getElementsByTagName("div")[0].innerHTML=n+"</ul>"),P()}function P(){var e=document.getElementById("spa-price-total").dataset.price,t=document.getElementById("massage-price-total").dataset.price;""!=e&&"[0,0]"!=e||""!=t&&"[0,0]"!=t?document.getElementById("empty-order").classList.add("hidden"):document.getElementById("empty-order").classList.remove("hidden"),e=""!=e?JSON.parse(e):[0,0],t=""!=t?JSON.parse(t):[0,0];var a=0,s=JSON.parse(sessionStorage.getItem("prestations"));s.code_promo&&(a=s.code_promo[1]);var n=e[0]+t[0],i=e[1]+t[1];n>0&&(n-=a),i>0&&(i-=a),document.getElementById("total-price").innerHTML=n,document.getElementById("total-acompte").innerHTML=i}function _(){var e=JSON.parse(sessionStorage.getItem("spa")),t=JSON.parse(sessionStorage.getItem("massages")),a=JSON.parse(sessionStorage.getItem("cadeau")),s=0;if(e)for(var n=e.length-1;n>=0;n--)""!=e[n].time&&s++;if(t)for(n=t.length-1;n>=0;n--)"string"!=typeof t[n].sub&&s++;if(a)for(n=a.length-1;n>=0;n--)s+=a[n][1];document.getElementById("number-cart-ok").innerHTML=s}s=document.getElementById("remove-spa"),n=document.getElementById("add-spa"),s.addEventListener("click",I),n.addEventListener("click",y),document.querySelectorAll(".remove-massage").forEach((function(e){e.addEventListener("click",T)})),document.querySelectorAll(".add-massage").forEach((function(e){e.addEventListener("click",L)})),document.querySelectorAll(".cadeau-rmv").forEach((function(e){e.addEventListener("click",H)})),document.querySelectorAll(".cadeau-add").forEach((function(e){e.addEventListener("click",C)})),document.getElementById("country-choice").addEventListener("change",o),document.querySelectorAll(".praticien-list").forEach((function(e){e.addEventListener("change",l)})),document.getElementById("heure-spa").addEventListener("change",h),document.getElementById("heure-massage").addEventListener("change",h),function(){var e=!1,t=sessionStorage.getItem("spa"),a=sessionStorage.getItem("massages"),s=(sessionStorage.getItem("cadeau"),sessionStorage.getItem("prestations")),n=JSON.parse(s);if(null!=t&&""!=t||null!=a&&""!=a){if(null!=t&&""!=t){for(var o=(t=JSON.parse(t)).length-1;o>=0;o--)null==t[o].id||""==t[o].time?t.splice(o,1):e=!0;sessionStorage.setItem("spa",JSON.stringify(t))}if(null!=a&&""!=a){for(o=(a=JSON.parse(a)).length-1;o>=0;o--)null==a[o].id||""==a[o].cat||"string"==typeof a[o].sub||"string"==typeof a[o].time?a.splice(o,1):e=!0;sessionStorage.setItem("massages",JSON.stringify(a))}e?(function(){var e=JSON.parse(document.getElementById("form-data").dataset.spas),t=JSON.parse(document.getElementById("form-data").dataset.spaoptions),a=JSON.parse(document.getElementById("form-data").dataset.massages),s=JSON.parse(sessionStorage.getItem("spa")),n=JSON.parse(sessionStorage.getItem("massages")),i=JSON.parse(sessionStorage.getItem("cadeau")),o=JSON.parse(sessionStorage.getItem("prestations"));if(0<s.length){for(var l=0;l<s.length;l++)S(s[l].id,[s[l].id,s[l].time,s[l].option,s[l].info]),E(document.querySelector("input[data-index='"+s[l].id+"'][data-array='"+s[l].time+"'].time-spa-list").value,s[l].id,t,e),O(s[l].id,t,e,s[l].option);document.getElementById("heure-spa").value=o.heureSpa}if(0!=n.length){for(l=0;l<n.length;l++)k(n[l].cat,n[l].id,n[l].sub,n[l].time),x(a,n[l].id),A(a);document.getElementById("heure-massage").value=o.heureMassage}if(0!=i.length){for(valueInInput="",l=0;l<i.length;l++)document.getElementById(i[l][0]+"-nbr").innerHTML=i[l][1],valueInInput+=i[l][0]+"-"+i[l][1]+"|";document.getElementById("cadeau-id").value=valueInInput,q()}if(void 0!=o.praticien){var r=document.querySelectorAll(".praticien-list");for(l=r.length-1;l>=0;l--)r[l].value==o.praticien&&(r[l].checked=!0)}}(),n.code_promo&&function(e){document.getElementById("alert-code").classList.remove("hidden"),document.getElementById("form-promo-code").classList.add("hidden"),document.getElementById("alert-code").innerHTML="Votre code promo "+e.code_promo[0]+" est valid\xe9 avec succ\xe8s. Vous avez gagn\xe9 un reduction de "+e.code_promo[1]+"\u20ac pour l'acompte total \xe0 payer!"}(n)):i()}else i()}(),document.getElementById("nex-submi-tag").addEventListener("click",(function(){document.getElementById("form-data").submit()}))}});
//# sourceMappingURL=orders_index-3c06ccd2166d5d5df509.js.map