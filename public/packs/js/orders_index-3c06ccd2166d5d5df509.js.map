{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/packs/orders_index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","removeSpa","addSpa","initSession","sessionStorage","setItem","showDepartementIfFrance","x","this","input_dptm","document","getElementById","div_dptm","removeAttribute","setAttribute","classList","add","addPraticientAtSession","prestations","JSON","parse","getItem","praticien","stringify","incrementeInc","inc","changeLogement","sessionSpa","length","id","dataset","index","info","changeInstallation","changeTypeSpa","valueToHtmlSpa","time","option","data","dataSpas","spas","dataSpaoptions","spaoptions","typeSpa","includes","isPresent","numberSpaSelected","list","getElementsByClassName","innerHTML","numberMassageSelected","valueToHtmlMassage","sub","dataMassages","massages","categories","heurs","htmlSub","htmlTime","j","showTimesOnClickMassageSu","myData","timeListAll","timeList","inputList","sessionMassage","parentElement","getElementsByTagName","checked","listCheck","className","priceTotalForAllMassage","bigTotalPrice","addHoursInPrestation","heureMassage","heureSpa","actualiseDomSpa","div","createElement","appendChild","querySelectorAll","forEach","tSpa","addEventListener","addRmvTimSpaInOrder","oSpa","addRmvOptionSpaInOrder","logement","installation","log","inst","type","divOrder","addSpaInOrder","addSpaList","push","removeSpaList","dataForm","dataOption","pop","numberAtOrderBtn","a","remove","priceTotalForAllSpa","array","htmlTimeSpaOrder","priceTotalForOneSpa","listOptions","inputL","htmlOptionSpaOrder","ulList","liList","exceptionalDate","zone","date","split","exceptionalPrice","spaPrice","price","spa","spanPriceTotal","prixSomme","tmp","priceSpa","addCategoryMassage","cat","homme","femme","showAlert","moinhomme","moinfemme","deletAlert","splice","actualiseDomMassage","checkR","addMassageInOrder","priceTotalForOneMassage","divMassage","acompte","priceMassage","removeCategoryMassage","removeCadeau","cadeau","changeCadeau","valueInInput","priceForAllCadeau","aDDCadeau","test","addCadeau","infoCadeau","listCadeau","orderCadeau","totalPrice","elementDom","massage","code_promo","somePrice","someAcompte","number","buttonRmv","buttonAdd","rmv","isHasSpaMassage","jsonPresta","querySelector","undefined","listPratitiens","addDomIndex","changePromoCode","verifySession","submit"],"mappings":"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","file":"js/orders_index-3c06ccd2166d5d5df509.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","// [spa.duration,spa.exceptional_price,spa.ordinary_price,spa.exceptional_acompte,spa.ordinary_acompte]\n// [price.duration,price.exceptional_price,price.exceptional_acompte,price.ordinary_price,price.ordinary_acompte]\nscriptPrincipal()\nfunction scriptPrincipal(){\n\t/*==========================================================================*/\n\t/*~~~~~~~~~~~~~~~~~~~~~~~~~SPA~~~~~~~~~~~~~~~~~~~~~~~~~*/\n\tlet removeSpa = document.getElementById(\"remove-spa\")\n\tlet addSpa = document.getElementById(\"add-spa\")\n\tremoveSpa.addEventListener('click',removeSpaList)\n\taddSpa.addEventListener('click',addSpaList)\n\t/*==========================================================================*/\n\t/*~~~~~~~~~~~~~~~~~~~~~~~Massage~~~~~~~~~~~~~~~~~~~~~~~*/\n\tlet buttonRmvs = document.querySelectorAll('.remove-massage');\n\tbuttonRmvs.forEach(buttonRmv => {\n\t\tbuttonRmv.addEventListener('click',removeCategoryMassage);\n\t});\n\n\tlet buttonAdds = document.querySelectorAll('.add-massage');\n\tbuttonAdds.forEach(buttonAdd => {\n\t\tbuttonAdd.addEventListener('click',addCategoryMassage);\n\t});\n\t/*==========================================================================*/\n\t/*~~~~~~~~~~~~~~~~~~~~~~~Cadeau~~~~~~~~~~~~~~~~~~~~~~~*/\n\tlet rmvCadeau = document.querySelectorAll(\".cadeau-rmv\")\n\trmvCadeau.forEach(rmv => {\n\t\trmv.addEventListener('click',removeCadeau);\n\t});\n\n\tlet addCadeau = document.querySelectorAll(\".cadeau-add\")\n\taddCadeau.forEach(add => {\n\t\tadd.addEventListener('click',aDDCadeau);\n\t});\n\t/*==========================================================================*/\n\t/*~~~~~~~~~~~~Date Heurs Pays Departement Praticient ~~~~~~~~~~~~~~~~~*/\n\tdocument.getElementById(\"country-choice\").addEventListener(\"change\", showDepartementIfFrance);\n\t// praticien\n\tlet addPraticient = document.querySelectorAll(\".praticien-list\")\n\taddPraticient.forEach(add => {\n\t\tadd.addEventListener('change',addPraticientAtSession);\n\t});\n\n\tdocument.getElementById(\"heure-spa\").addEventListener(\"change\",addHoursInPrestation)\n\n\tdocument.getElementById(\"heure-massage\").addEventListener(\"change\",addHoursInPrestation)\n\n\t/*==========================================================================*/\n\t/*~~~~~~~~~~~~Verifier si il y a un truc dans la session ~~~~~~~~~~~~~*/\n\tverifySession()\n}\n// \n//\n/*==========================================================================*/\n// verifier si la session est vide ou pas\nfunction verifySession(){\n\t// ajouter le pays dans la session\n\tlet isHasSpaMassage = false\n\tlet spa = sessionStorage.getItem(\"spa\")\n\tlet massages = sessionStorage.getItem(\"massages\")\n\tlet cadeau = sessionStorage.getItem(\"cadeau\")\n\t// prestations.pays = \"\" // prestations.departement = \"\" // prestations.date = \"\" // prestations.heurs = \"\" // prestations.praticient = \"\"\t\n\tlet prestations = sessionStorage.getItem(\"prestations\")\n\tlet jsonPresta = JSON.parse(prestations);\n\tif ( (spa == null || spa == \"\") && (massages == null || massages == \"\") ){\n\t\tinitSession()\n\t\treturn\n\t}else{\n\t\tif (spa != null && spa != \"\") {\n\t\t\tspa = JSON.parse(spa)\n\t\t\tfor (var i = spa.length - 1; i >= 0; i--) {\n\t\t\t\tif (spa[i].id == null || spa[i].time == \"\") {\n\t\t\t\t\tspa.splice(i,1) // null daholo ny spa ato\n\t\t\t\t}else{\n\t\t\t\t\tisHasSpaMassage = true //nisy spa tsy null le aza\n\t\t\t\t}\n\t\t\t}\n\t\t\tsessionStorage.setItem(\"spa\",JSON.stringify(spa))\n\t\t}\n\t\tif ( massages != null && massages != \"\") {\n\t\t\tmassages = JSON.parse(massages)\n\t\t\tfor (var i = massages.length - 1; i >= 0; i--) {\n\t\t\t\tif (massages[i].id == null || massages[i].cat == \"\" || typeof(massages[i].sub) == \"string\" || typeof(massages[i].time) == \"string\"){\n\t\t\t\t\tmassages.splice(i,1) // null daholo ny massages\n\t\t\t\t}else{\n\t\t\t\t\tisHasSpaMassage = true // nisy massages tsy null le aza\n\t\t\t\t}\n\t\t\t}\n\t\t\tsessionStorage.setItem(\"massages\",JSON.stringify(massages))\n\t\t}\n\t}\n\tif (isHasSpaMassage) {\n\t\taddDomIndex()\n\t\tif (jsonPresta.code_promo) {\n\t\t\tchangePromoCode(jsonPresta);\n\t\t}\n\t}else{\n\t\tinitSession()\n\t}\n}\n\n// initialiser la session\nfunction initSession(){\n\tsessionStorage.setItem(\"prestations\",\"{}\")\n\tsessionStorage.setItem(\"spa\",\"[]\")\n\tsessionStorage.setItem(\"massages\",\"[]\")\n\tsessionStorage.setItem(\"cadeau\",\"[]\")\n\tsessionStorage.setItem(\"inc\",\"0\")\n}\n/*==========================================================================*/\n// remettre les elements si un l'user a actualisé\nfunction addDomIndex(){\n\tlet dataForm = JSON.parse(document.getElementById('form-data').dataset.spas)\n\tlet dataOption = JSON.parse(document.getElementById('form-data').dataset.spaoptions)\n\tlet dataMassages = JSON.parse(document.getElementById('form-data').dataset.massages)\n\tlet spa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tlet massages = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tlet cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\t// prestations.pays = \"\" // prestations.departement = \"\" // prestations.date = \"\" // prestations.heurs = \"\" // prestations.praticient = \"\"\t\n\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"))\n\t// Ajouter les spa selectionné dans le dom\n\tlet tmpTime = \"\"\n\tif (0 < spa.length) {\n\t\tfor (var i = 0; i < spa.length ; i++) {\n\t\t\tactualiseDomSpa(spa[i].id,[spa[i].id,spa[i].time,spa[i].option,spa[i].info])\n\t\t\ttmpTime = document.querySelector(\"input[data-index=\\'\"+spa[i].id+\"\\'][data-array=\\'\"+spa[i].time+\"\\'].time-spa-list\").value\n\t\t\thtmlTimeSpaOrder(tmpTime,spa[i].id,dataOption,dataForm)\n\t\t\thtmlOptionSpaOrder(spa[i].id,dataOption,dataForm,spa[i].option)\n\t\t}\n\t\tdocument.getElementById(\"heure-spa\").value = prestations.heureSpa\n\t}\n\t// Ajouter les massages selectionné dans le dom\n\tif (massages.length != 0) {\n\t\tfor (var i = 0; i < massages.length ; i++) {\n\t\t\tactualiseDomMassage(massages[i].cat,massages[i].id,massages[i].sub,massages[i].time)\n\t\t\tpriceTotalForOneMassage(dataMassages,massages[i].id)\n\t\t\tpriceTotalForAllMassage(dataMassages)\n\t\t}\n\t\tdocument.getElementById(\"heure-massage\").value = prestations.heureMassage\n\t}\n\t// Ajouter le cadeau selectionné dans le dom\n\tif (cadeau.length != 0) {\n\t\tvalueInInput = \"\"\n\t\tfor (var i = 0; i < cadeau.length ; i++) {\n\t\t\t// [[6,8],[7,3],[8,2],[9,1]]\n\t\t\tdocument.getElementById(cadeau[i][0]+\"-nbr\").innerHTML = cadeau[i][1]\n\t\t\tvalueInInput += cadeau[i][0]+\"-\"+cadeau[i][1]+\"|\"\n\t\t}\n\t\tdocument.getElementById(\"cadeau-id\").value = valueInInput\n\t\tpriceForAllCadeau()\n\t}\n\t// Ajouter les information sur la zone et type de praticient\n\tif (prestations.praticien != undefined){\n\t\tlet listPratitiens = document.querySelectorAll(\".praticien-list\")\n\t\tfor (var i = listPratitiens.length - 1; i >= 0; i--) {\n\t\t\tif(listPratitiens[i].value == prestations.praticien){\n\t\t\t\tlistPratitiens[i].checked = true\n\t\t\t}\n\t\t}\n\t}\n}\n/*==========================================================================*/\n\t// les fonctions concernatant Date Heurs Pays Departement Praticient\n\tfunction showDepartementIfFrance() {\n\t\tvar x = this.value\n\t\tvar input_dptm = document.getElementById(\"Departement\")\n\t\tvar div_dptm = document.getElementById(\"list-department\")\n\t\tif (x == \"France\") {\n\t\t\tinput_dptm.removeAttribute(\"disabled\")\n\t\t\tdiv_dptm.removeAttribute(\"class\")\n\t\t}else{\n\t\t\tinput_dptm.setAttribute(\"disabled\",\"disabled\")\n\t\t\tdiv_dptm.classList.add(\"hidden\")\n\t\t}\n\t}\n\t// pour le praticien \n\tfunction addPraticientAtSession(){\n\t\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"))\n\t\tprestations.praticien = this.value\n\t\tsessionStorage.setItem(\"prestations\",JSON.stringify(prestations))\n\t}\n\n\t/*==========================================================================*/\n\t// les fonctions primaire utilisé dans SPA et massage\n\tfunction incrementeInc(){ /*incremente la valeur inc pour les params*/\n\t\tlet inc = JSON.parse(sessionStorage.getItem(\"inc\"))\n\t\tinc++\n\t\tsessionStorage.setItem(\"inc\",JSON.stringify(inc))\n\t\treturn inc\n\t}\n\t/*==========================================================================*/\n\t// les fonctions primaire SPA\n// [logemtn,installation,eau]\nfunction changeLogement (){\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\tif (sessionSpa[i].id == this.dataset.index) {\n\t\t\tsessionSpa[i].info[0] = this.value\n\t\t\tbreak\n\t\t}\n\t}\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n}\nfunction changeInstallation (){\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\tif (sessionSpa[i].id == this.dataset.index) {\n\t\t\tsessionSpa[i].info[1] = this.value\n\t\t\tbreak\n\t\t}\n\t}\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n}\nfunction changeTypeSpa (){\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\tif (sessionSpa[i].id == this.dataset.index) {\n\t\t\tsessionSpa[i].info[2] = this.value\n\t\t\tbreak\n\t\t}\n\t}\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n}\n\n// \"time\":\"1\",\"option\":[1,2,3]}]\nfunction valueToHtmlSpa(id,time=null,option=\"\",info=\"\"){ /* code html pour l'ajout d'un spa */\nlet data = document.getElementById('form-data').dataset\nlet dataSpas = JSON.parse(data.spas)\nlet dataSpaoptions = JSON.parse(data.spaoptions)\n\t// spa.duration,spa.exceptional_price,spa.ordinary_price,spa.exceptional_acompte,spa.ordinary_acompte\n\tlet typeSpa = \"<div class='col-sm-3'><h4><center class=\\\"titleSpa dureTitle\\\">Durée location</center></h4>\"\n\tfor (var i = 0; i < dataSpas.length ; i++) {\n\t\tif (time == i) {\n\t\t\ttypeSpa += \"<div class=\\\"duree-spa\\\"><input class=\\\"time-spa-list\\\" type=\\\"radio\\\" id=\\\"\"+id+\"h\"+dataSpas[i][0]+\"\\\" checked name=\\\"timeSpa[\"+id+\"][]\\\" value=\\\"\"+ dataSpas[i][0] +\"\\\" data-prices=\\\"[\"+dataSpas[i][1]+\",\"+dataSpas[i][2]+\"]\\\" data-acompte=\\\"[\"+dataSpas[i][3]+\",\"+dataSpas[i][4]+\"]\\\" data-index=\\\"\"+id+\"\\\" data-array=\\\"\"+i+\"\\\"><label for=\\\"\"+id+\"h\"+dataSpas[i][0]+\"\\\" class=\\\"label-spa\\\">\"+ dataSpas[i][0] +\"h</label></div>\"\n\t\t}else{\n\t\t\ttypeSpa += \"<div class=\\\"duree-spa\\\"><input class=\\\"time-spa-list\\\" type=\\\"radio\\\" id=\\\"\"+id+\"h\"+dataSpas[i][0]+\"\\\" name=\\\"timeSpa[\"+id+\"][]\\\" value=\\\"\"+ dataSpas[i][0] +\"\\\" data-prices=\\\"[\"+dataSpas[i][1]+\",\"+dataSpas[i][2]+\"]\\\" data-acompte=\\\"[\"+dataSpas[i][3]+\",\"+dataSpas[i][4]+\"]\\\" data-index=\\\"\"+id+\"\\\" data-array=\\\"\"+i+\"\\\"><label for=\\\"\"+id+\"h\"+dataSpas[i][0]+\"\\\" class=\\\"label-spa\\\">\"+ dataSpas[i][0] +\"h</label></div>\"\n\t\t}\n\t}\n\ttypeSpa += \"</div><div class='col-sm-4 ambianceresponsive'><h4><center class=\\\"titleSpa\\\">Ambiance</center></h4>\"\n\tfor (var i = 0; i < dataSpaoptions.length ; i++) {\n\t\tif (option.includes(i)) {\n\t\t\ttypeSpa += \"<div class=\\\"list-ambiance\\\"><input class=\\\"option-spa-list\\\" type=\\\"checkbox\\\" checked name=\\\"optionSpa[\"+id+\"][]\\\" value=\\\"\"+dataSpaoptions[i][1]+\"\\\" id=\\\"opt\"+dataSpaoptions[i][0]+\"\"+id+\"\\\" data-array=\\\"\"+i+\"\\\" data-price=\\\"\"+dataSpaoptions[i][2]+\"\\\" data-index=\\\"\"+id+\"\\\" ><label for=\\\"opt\"+dataSpaoptions[i][0]+\"\"+id+\"\\\" class=\\\"label-option-spa\\\">\"+dataSpaoptions[i][1]+\"</label><i class=\\\"fa fa-question-circle questionMarkSpa\\\" aria-hidden=\\\"true\\\" data-toggle=\\\"modal\\\" data-target=\\\"#\"+dataSpaoptions[i][1]+\"\\\"></i></div>\"\n\t\t}else{\n\t\t\tif (typeof(option)!=\"string\") {\n\t\t\t\ttypeSpa += \"<div class=\\\"list-ambiance\\\"><input class=\\\"option-spa-list\\\" type=\\\"checkbox\\\" name=\\\"optionSpa[\"+id+\"][]\\\" value=\\\"\"+dataSpaoptions[i][1]+\"\\\" id=\\\"opt\"+dataSpaoptions[i][0]+\"\"+id+\"\\\" data-array=\\\"\"+i+\"\\\" data-price=\\\"\"+dataSpaoptions[i][2]+\"\\\" data-index=\\\"\"+id+\"\\\" ><label for=\\\"opt\"+dataSpaoptions[i][0]+\"\"+id+\"\\\" class=\\\"label-option-spa\\\">\"+dataSpaoptions[i][1]+\"</label><i class=\\\"fa fa-question-circle questionMarkSpa\\\" aria-hidden=\\\"true\\\" data-toggle=\\\"modal\\\" data-target=\\\"#\"+dataSpaoptions[i][1]+\"\\\"></i></div>\"\n\t\t\t}else{\n\t\t\t\ttypeSpa += \"<div class=\\\"list-ambiance\\\"><input class=\\\"option-spa-list\\\" type=\\\"checkbox\\\" name=\\\"optionSpa[\"+id+\"][]\\\" value=\\\"\"+dataSpaoptions[i][1]+\"\\\" id=\\\"opt\"+dataSpaoptions[i][0]+\"\"+id+\"\\\" data-array=\\\"\"+i+\"\\\" data-price=\\\"\"+dataSpaoptions[i][2]+\"\\\" data-index=\\\"\"+id+\"\\\" disabled ><label for=\\\"opt\"+dataSpaoptions[i][0]+\"\"+id+\"\\\" class=\\\"label-option-spa\\\">\"+dataSpaoptions[i][1]+\"</label><i class=\\\"fa fa-question-circle questionMarkSpa\\\" aria-hidden=\\\"true\\\" data-toggle=\\\"modal\\\" data-target=\\\"#\"+dataSpaoptions[i][1]+\"\\\"></i></div>\"\n\t\t\t}\n\t\t}\n\t}\n\t// [logemtn,installation,eau]\n\tfunction isPresent(key,value){\n\t\tif (key == value) {\n\t\t\treturn \"selected=\\\"selected\\\"\"\n\t\t}else{\n\t\t\treturn \"\"\t\n\t\t}\n\t}\n\tif (info!=\"\") {\n\t\ttypeSpa += \"</div><div class=\\\"col-sm-5 fin-spa\\\"><h4><center class=\\\"titleSpa informationTitle\\\">Informations sur la location</center></h4><br><div class=\\\"infoSpa\\\"><label class=\\\"label-info-spa\\\" for=\\\"logement\"+id+\"\\\">Type de logement</label><select class=\\\"logement selectElement select-dro\\\" data-index=\\\"\"+id+\"\\\" name=\\\"typeSpa[\"+id+\"][]\\\" id=\\\"logement\"+id+\"\\\" ><option value=\\\"Appartement\\\" \"+ isPresent(info[0],\"Appartement\") +\">Appartement</option><option value=\\\"Villa - Maison\\\" \"+ isPresent(info[0],\"Villa - Maison\") +\" >Villa - Maison</option></select></div><div class=\\\"infoSpa\\\"><label for=\\\"installation\"+id+\"\\\" class=\\\"label-info-spa\\\">Type d'installation</label><select class=\\\"installation selectElement select-dro\\\" data-index=\\\"\"+id+\"\\\" name=\\\"typeSpa[\"+id+\"][]\\\" id=\\\"installation\"+id+\"\\\"><option value=\\\"Intérieur\\\" \"+ isPresent(info[1],\"Intérieur\") +\">Intérieur</option><option value=\\\"Extérieur\\\" \"+ isPresent(info[1],\"Extérieur\") +\">Extérieur</option></select></div><div class=\\\"infoSpa\\\"><label for=\\\"eau\"+id+\"\\\" class=\\\"label-info-spa\\\">Système d'eau</label><select class=\\\"typeSpa selectElement select-dro\\\" data-index=\\\"\"+id+\"\\\" name=\\\"typeSpa[\"+id+\"][]\\\" id=\\\"eau\"+id+\"\\\" ><option value=\\\"Cumulus - Ballon d'eau (eau chaude limitée)\\\"  \"+ isPresent(info[2],\"Cumulus - Ballon d'eau (eau chaude limitée)\") +\">Cumulus - Ballon d\\'eau (eau chaude limitée)</option><option value=\\\"Chaudière (eau chaude continue)\\\" \"+ isPresent(info[2],\"Chaudière (eau chaude continue)\") +\" >Chaudière (eau chaude continue)</option></select></div></div>\"\n\t}else{\n\t\ttypeSpa += \"</div><div class=\\\"col-sm-5 fin-spa\\\"><h4><center class=\\\"titleSpa informationTitle\\\">Informations sur la location</center></h4><br><div class=\\\"infoSpa\\\"><label class=\\\"label-info-spa\\\" for=\\\"logement\"+id+\"\\\">Type de logement</label><select class=\\\"logement selectElement select-dro\\\" data-index=\\\"\"+id+\"\\\" name=\\\"typeSpa[\"+id+\"][]\\\" id=\\\"logement\"+id+\"\\\" ><option value=\\\"Appartement\\\" selected=\\\"selected\\\">Appartement</option><option value=\\\"Villa - Maison\\\">Villa - Maison</option></select></div><div class=\\\"infoSpa\\\"><label for=\\\"installation\"+id+\"\\\" class=\\\"label-info-spa\\\">Type d'installation</label><select class=\\\"installation selectElement select-dro\\\" data-index=\\\"\"+id+\"\\\" name=\\\"typeSpa[\"+id+\"][]\\\" id=\\\"installation\"+id+\"\\\"><option value=\\\"Intérieur\\\" selected=\\\"selected\\\">Intérieur</option><option value=\\\"Extérieur\\\">Extérieur</option></select></div><div class=\\\"infoSpa\\\"><label for=\\\"eau\"+id+\"\\\" class=\\\"label-info-spa\\\">Système d'eau</label><select class=\\\"typeSpa selectElement select-dro\\\" data-index=\\\"\"+id+\"\\\" name=\\\"typeSpa[\"+id+\"][]\\\" id=\\\"eau\"+id+\"\\\" ><option value=\\\"Cumulus - Ballon d'eau (eau chaude limitée)\\\" selected=\\\"selected\\\">Cumulus - Ballon d\\'eau (eau chaude limitée)</option><option value=\\\"Chaudière (eau chaude continue)\\\">Chaudière (eau chaude continue)</option></select></div></div>\"\n\t}\n\treturn typeSpa\n}\n\n\nfunction numberSpaSelected(){\n\tlet list = document.getElementsByClassName(\"spa-list-prestations\")\n\tdocument.getElementById(\"number-spa\").innerHTML = list.length\n}\n\n/*==========================================================================*/\n\t// les fonctions primaire MASSAGE\n\tfunction numberMassageSelected(name) {\n\t\tlet list = document.getElementsByClassName(\"massage-list-\"+name)\n\t\tdocument.getElementById(\"number-\"+name).innerHTML = list.length\n\t}\n\n// [{\"id\":1,\"cat\":\"Homme\",\"sub\":3,\"time\":1},{\"id\":2,\"cat\":\"Femme\",\"sub\":0,\"time\":1}]\nfunction valueToHtmlMassage(name,id,sub=null,time=null){\n\tlet data = document.getElementById('form-data').dataset\n\tlet dataMassages = JSON.parse(data.massages)\n\n\tlet categories = []\n\tif ( name == \"Homme\") {\n\t\tcategories = dataMassages[0]\n\t}else{\n\t\tcategories = dataMassages[1]\n\t}\n\tlet heurs = []\n\tlet htmlSub = \"\"\n\tlet htmlTime = \"\"\n\tfor (var i = 0; i < categories[1].length ; i++) {\n\t\thtmlSub += \"<div class=\\\"massage-type\\\">\"\n\t\tif (i == 0) {\n\t\t\thtmlSub += \"<input type=\\\"text\\\" name=\\\"massageSu[\"+id+\"][]\\\" value=\\\"\"+ name +\"\\\" class=\\\"hidden\\\">\"\n\t\t}\n\t\tif (sub != null && sub == i) {\n\t\t\thtmlSub += \"<input type=\\\"checkbox\\\" value=\\\"\"+ categories[1][i][0] +\"\\\" checked id=\\\"sub\"+ i +\"\"+ id +\"\\\" class=\\\"massage-su\\\" name=\\\"massageSu[\"+id+\"][]\\\" data-info=\\\"[\"+ [id,i] +\"]\\\"><label class=\\\"label-massage\\\" for=\\\"sub\"+ i +\"\"+ id +\"\\\"> \"+ categories[1][i][0] +\" </label><i class=\\\"fa fa-question-circle questionMark\\\" aria-hidden=\\\"true\\\" data-toggle=\\\"modal\\\" data-target=\\\"#modal\"+ i +\"\"+ id +\"\\\"></i>\"\n\t\t\thtmlTime += \"<div class=\\\"times-massage\\\" data-info=\\\"[\"+ [id,i] +\"]\\\" ><ul>\"\n\t\t}else{\n\t\t\thtmlSub += \"<input type=\\\"checkbox\\\" value=\\\"\"+ categories[1][i][0] +\"\\\" id=\\\"sub\"+ i +\"\"+ id +\"\\\" class=\\\"massage-su\\\" name=\\\"massageSu[\"+id+\"][]\\\" data-info=\\\"[\"+ [id,i] +\"]\\\"><label class=\\\"label-massage\\\" for=\\\"sub\"+ i +\"\"+ id +\"\\\"> \"+ categories[1][i][0] +\" </label><i class=\\\"fa fa-question-circle questionMark\\\" aria-hidden=\\\"true\\\" data-toggle=\\\"modal\\\" data-target=\\\"#modal\"+ i +\"\"+ id +\"\\\"></i>\"\n\t\t\thtmlTime += \"<div class=\\\"times-massage hidden\\\" data-info=\\\"[\"+ [id,i] +\"]\\\" ><ul>\"\n\t\t}\n\t\thtmlSub += \"</div>\"\n\t\theurs = categories[1][i][1] // liste des heurs possibles\n\t\tfor (var j = 0; j < heurs.length ; j++) {\n\t\t\tif (time != null && time == j && sub != null && sub == i) {\n\t\t\t\thtmlTime += \"<li class=\\\"duree-massage\\\"><input class=\\\"input-time-list time-spa-list\\\" type=\\\"radio\\\" value=\\\"\"+ heurs[j][0] +\"\\\" checked id=\\\"time\"+j+i+id+\"\\\" name=\\\"massageSuPrice[\"+id+\"][]\\\" data-info=\\\"[\"+ [id,i,j] +\"]\\\" data-price=\\\"[\"+ [heurs[j][1],heurs[j][2],heurs[j][3],heurs[j][4]] +\"]\\\" data-sub=\\\"\"+categories[1][i][0]+\"\\\" data-name=\\\"\"+name+\"\\\" ><label class=\\\"form label-spa\\\" for=\\\"time\"+j+i+id+\"\\\"> \"+ heurs[j][0] +\" </label></li>\"\n\t\t\t}else{\n\t\t\t\thtmlTime += \"<li class=\\\"duree-massage\\\"><input class=\\\"input-time-list time-spa-list\\\" type=\\\"radio\\\" value=\\\"\"+ heurs[j][0] +\"\\\" id=\\\"time\"+j+i+id+\"\\\" name=\\\"massageSuPrice[\"+id+\"][]\\\" data-info=\\\"[\"+ [id,i,j] +\"]\\\" data-price=\\\"[\"+ [heurs[j][1],heurs[j][2],heurs[j][3],heurs[j][4]] +\"]\\\" data-sub=\\\"\"+categories[1][i][0]+\"\\\" data-name=\\\"\"+name+\"\\\" ><label class=\\\"form label-spa\\\" for=\\\"time\"+j+i+id+\"\\\"> \"+ heurs[j][0] +\" </label></li>\"\n\t\t\t}\n\t\t}\n\t\thtmlTime += \"</ul></div>\"\n\t}\n\treturn \"<div class=\\\"row\\\"><div class=\\\"col-sm-12 sm-9-spa\\\"><div class=\\\"innerWrapper\\\"><div class=\\\"table-responsive table-responsiveInfos\\\"><table class=\\\"table tableInfos\\\"><thead><tr class=\\\"tr\\\"><th id=\\\"tableHead\\\">\"+name+\"</th></tr></thead></table></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-10\\\"><h4><center class=\\\"titleMassage\\\">Types de massage</center></h4><div class=\\\"sm-6-massage\\\">\"+ htmlSub +\"</div></div><div class=\\\"col-sm-2 col-sm2Duree\\\"><h4>Durée(min)</h4>\"+htmlTime+\"</div></div>\"\n}\n\n\n\n/* #################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################### */\n/* #################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################### */\n/* #################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################### */\n\nfunction showTimesOnClickMassageSu(){\n\t// data-info=\\\"[\"+ [id,i] +\"]\\\"\n\tlet dataMassages = JSON.parse(document.getElementById('form-data').dataset.massages)\n\tlet myData = JSON.parse(this.dataset.info)[0]\n\tdocument.getElementById(\"list-order-\"+myData).classList.add(\"hidden\")\n\tlet timeListAll = document.getElementsByClassName(\"times-massage\")\n\tlet timeList = []\n\tlet inputList = []\n\t// Enregistrement dans la session\n\tlet sessionMassage = JSON.parse(sessionStorage.getItem(\"massages\"))\n\t// sessionMassage.push({id:id,cat:categories[0],sub:\"\",time:\"\",price:\"\"})\n\tfor (var i = sessionMassage.length - 1; i >= 0; i--) {\n\t\tif(sessionMassage[i].id == myData){\n\t\t\tsessionMassage[i].sub = JSON.parse(this.dataset.info)[1]\n\t\t\tsessionMassage[i].time = \"\"\n\t\t}\n\t}\n\tsessionStorage.setItem(\"massages\",JSON.stringify(sessionMassage))\n\t// Modification dans le DOM\n\n\t// Selection les heurs et les checkbox a cocher disponible\n\tfor (var i = 0; i < timeListAll.length ; i++) {\n\t\tif (JSON.parse(timeListAll[i].dataset.info)[0] == myData) {\n\t\t\ttimeList = timeListAll[i].parentElement.getElementsByTagName(\"div\")\n\t\t\tinputList = timeListAll[i].parentElement.getElementsByTagName(\"input\")\n\t\t\tbreak\n\t\t}\n\t}\n\t// remetre a zero les choix precedent sur les heurs dispo\n\tfor (var i = inputList.length - 1; i >= 0; i--) {\n\t\tinputList[i].checked = false\n\t}\n\t// decocher les autre type de massage selectionné recedent!\n\tlet listCheck = document.getElementsByClassName(\"massage-su\")\n\tfor (var i = listCheck.length - 1; i >= 0; i--) {\n\t\tif (JSON.parse(listCheck[i].dataset.info)[0] == myData && listCheck[i] != this) {\n\t\t\tlistCheck[i].checked = false\n\t\t}\n\t}\n\tif (this.checked) {\n\t\tfor (var i = 0; i < timeList.length ; i++) {\n\t\t\tif (timeList[i].dataset.info == this.dataset.info){\n\t\t\t\ttimeList[i].className = \"times-massage\"\n\t\t\t}else{\n\t\t\t\ttimeList[i].className = \"times-massage hidden\"\n\t\t\t}\n\t\t}\n\t}else{\n\t\tfor (var i = 0; i < timeList.length ; i++) {\n\t\t\tif (timeList[i].dataset.info == this.dataset.info){\n\t\t\t\ttimeList[i].className = \"times-massage hidden\"\n\t\t\t}\n\t\t}\n\t}\n\tpriceTotalForAllMassage(dataMassages)\n\t// Grand prix total\n\tbigTotalPrice()\n}\n\n\n/*==========================================================================*/\n// Fonction pour l'enregistrement de l'heurs\nfunction addHoursInPrestation(){\n\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"))\n\tif (this.name == \"heureMassage\"){\n\t\tprestations.heureMassage = this.value\n\t}else{\n\t\tprestations.heureSpa = this.value\n\t}\n\tsessionStorage.setItem(\"prestations\",JSON.stringify(prestations))\n}\n\n/*==========================================================================*/\n// fonction principale SPA\n// evenement on click\nfunction actualiseDomSpa(id,data=\"\"){\n\t// Modification dans le DOM\n\tlet div = document.createElement('div')\n\tdiv.classList.add('spa-list-prestations')\n\tif (data != \"\") {\n\t\t// [spa[i].id,spa[i].time,spa[i].option,spa[i].info]\n\t\tdiv.innerHTML = valueToHtmlSpa(data[0],data[1],data[2],data[3])\n\t}else{\n\t\tdiv.innerHTML = valueToHtmlSpa(id)\t\n\t}\n\n\tdocument.getElementById('spa-input').appendChild(div)\n\n\t// Ajout des sous element dans la session et dans le panier\n\tlet timeSpa = document.querySelectorAll(\".time-spa-list\")\n\ttimeSpa.forEach(tSpa => {\n\t\ttSpa.addEventListener('change',addRmvTimSpaInOrder);\n\t});\n\n\tlet optionSpa = document.querySelectorAll(\".option-spa-list\")\n\toptionSpa.forEach(oSpa => {\n\t\toSpa.addEventListener('change',addRmvOptionSpaInOrder);\n\t});\n\n\t// Ajout des autre information dans la session\n\tlet logement = document.querySelectorAll(\".logement\")\n\tlet installation = document.querySelectorAll(\".installation\")\n\tlet typeSpa = document.querySelectorAll(\".typeSpa\")\n\n\tlogement.forEach(log => {\n\t\tlog.addEventListener('change',changeLogement);\n\t});\n\tinstallation.forEach(inst => {\n\t\tinst.addEventListener('change',changeInstallation);\n\t});\n\ttypeSpa.forEach(type => {\n\t\ttype.addEventListener('change',changeTypeSpa);\n\t});\n\t// Ajout dans le panier\n\taddSpaInOrder(id)\n\t// nombre de spa - 0 +\n\tnumberSpaSelected()\n\t// Grand prix total\n\tbigTotalPrice()\n}\n\nfunction addSpaList(){\n\tlet id = incrementeInc() // Augmente de 1 la session\n\t// Enregistrement dans la session\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\t// [logemtn,installation,eau]\n\tsessionSpa.push({id:id,time:\"\",option:[],info:[\"Appartement\",\"Intérieur\",\"Cumulus - Ballon d\\'eau (eau chaude limitée)\"]})\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n\tactualiseDomSpa(id)\n}\n// evenement on click\nfunction removeSpaList(){\n\tlet dataForm = JSON.parse(document.getElementById('form-data').dataset.spas)\n\tlet dataOption = JSON.parse(document.getElementById('form-data').dataset.spaoptions)\n\t// Enregistrement dans la session\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tsessionSpa.pop()\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n\tnumberAtOrderBtn()\n\t// Modification dans le DOM\n\tlet list = document.getElementsByClassName(\"spa-list-prestations\")\n\tif (list.length > 0) {\n\t\tlist[list.length-1].remove()\n\t\t// supprimer l'element dans le panier\n\t\trmvSpaInOrder()\n\t\t// recalculer le prix total\n\t\tpriceTotalForAllSpa(dataOption,dataForm)\n\t}\n\tnumberSpaSelected()\n\t// Grand prix total\n\tbigTotalPrice()\n}\n////////////////////////////////////////////////////////\n// fonction principale commande SPA\nfunction addSpaInOrder(id){\n\tlet divOrder = document.getElementById(\"spa-order\")\n\tlet div = document.createElement(\"div\")\n\tdiv.classList = \"spa-order hidden\"\n\tdiv.setAttribute(\"id\",\"spa-list-\"+id)\n\tdiv.innerHTML = \"<p class=\\\"ul-panier\\\"><span class=\\\"spa-duration\\\">Spa pour : <span id=\\\"spa-time-\"+id+\"\\\"></span> h </span><br><span id=\\\"spa-price-\"+id+\"\\\"></span></p><ul></ul>\"\n\tdivOrder.appendChild(div)\n}\n\nfunction rmvSpaInOrder(){\n\tlet a = document.getElementsByClassName(\"spa-order\")\n\ta[a.length-1].remove()\n\tif(a.length == 0){\n\t\tdocument.getElementById(\"spa-order\").classList.add('hidden');\n\t}\n}\n\nfunction addRmvTimSpaInOrder(){ //checkbox na option spa\n\tlet dataForm = JSON.parse(document.getElementById('form-data').dataset.spas)\n\tlet dataOption = JSON.parse(document.getElementById('form-data').dataset.spaoptions)\n\tlet index = this.dataset.index\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\t// Activer les checkbox pour les options spa\n\tlet inputList = document.querySelectorAll(\".option-spa-list[data-index=\\'\"+index+\"\\']\")\n\tfor (var i = inputList.length - 1; i >= 0; i--) {\n\t\tinputList[i].removeAttribute(\"disabled\")\n\t}\n\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\tif (sessionSpa[i].id == index) {\n\t\t\tsessionSpa[i].time = this.dataset.array\n\t\t\tbreak\n\t\t}\n\t}\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n\tnumberAtOrderBtn()\n\t// Ajouter l'element selectionné dans le dom\n\thtmlTimeSpaOrder(this.value,index,dataOption,dataForm)\n}\n\nfunction htmlTimeSpaOrder(name,index,dataOption,dataForm){\n\tdocument.getElementById(\"spa-order\").classList.remove('hidden');\n\tdocument.getElementById(\"spa-list-\"+index).classList.remove('hidden');\n\tdocument.getElementById(\"spa-time-\"+index).innerHTML = name\n\t// calcul prix pour un spa selectionné\n\t// let pricesSpa = JSON.parse(this.dataset.prices)[1]\n\t// let acompteSpa = JSON.parse(this.dataset.acompte)[1]\n\tpriceTotalForOneSpa(index,dataOption,dataForm)\n\t// total prix pours les spas selectionné\n\tpriceTotalForAllSpa(dataOption,dataForm)\n}\n\nfunction addRmvOptionSpaInOrder(){ //checkbox na option spa\n\tlet dataForm = JSON.parse(document.getElementById('form-data').dataset.spas)\n\tlet dataOption = JSON.parse(document.getElementById('form-data').dataset.spaoptions)\n\tlet index = this.dataset.index\n\tlet id = JSON.parse(this.dataset.array)\n\t// Ajout ou supression d'element dans la session\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tlet listOptions = []\n\tif(this.checked){\n\t\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\t\tif (sessionSpa[i].id == index) {\n\t\t\t\tsessionSpa[i].option = [id]\n\t\t\t\tlistOptions = sessionSpa[i].option\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}else{\n\t\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\t\tif (sessionSpa[i].id == index) {\n\t\t\t\tsessionSpa[i].option = []\n\t\t\t\tlistOptions = sessionSpa[i].option\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\n\tlet inputList = document.querySelectorAll(\".option-spa-list[data-index=\\'\"+index+\"\\']\")\n\tinputList.forEach(inputL => {\n\t\tif(this != inputL){\n\t\t\tinputL.checked = false\n\t\t}\n\t});\n\n\tsessionStorage.setItem(\"spa\",JSON.stringify(sessionSpa))\n\t// Ajout des element dans le dom\n\thtmlOptionSpaOrder(index,dataOption,dataForm,listOptions)\n}\n\nfunction htmlOptionSpaOrder(index,dataOption,dataForm,listOptions){\n\tlet ulList = (document.getElementById(\"spa-list-\"+index).getElementsByTagName(\"ul\"))\n\tlet liList = \"\"\n\t// [1, \"Décoration romantique\", 20] agencement dans la dataOption\n\tfor (var i = 0; i < listOptions.length; i++) {\n\t\tliList += \"<li class=\\\"li-ambiance\\\">Ambiance : \"+dataOption[listOptions[i]][1]+\"</li>\"\n\t}\n\tulList[0].innerHTML = liList\n\t// modifier la petite some\n\tpriceTotalForOneSpa(index,dataOption,dataForm)\n\t// modifier la somme total\n\tpriceTotalForAllSpa(dataOption,dataForm)\n}\n\nfunction priceTotalForOneSpa(index,dataOption,dataForm){\n// [spa.duration,spa.exceptional_price,spa.ordinary_price,spa.exceptional_acompte,spa.ordinary_acompte]\n// [24, 180, 100, 50, 30]\nlet exceptionalDate = [[\"14\",\"02\"],[\"24\",\"12\"],[\"25\",\"12\"],[\"31\",\"12\"]]\nlet zone = JSON.parse(sessionStorage.getItem(\"zone\"))\n\tzone = zone.date.split(\"/\") // MM - DD - YYYY\n\tlet exceptionalPrice = false\n\tfor (var i = exceptionalDate.length - 1; i >= 0; i--) {\n\t\tif (exceptionalDate[i][0] == zone[0] && exceptionalDate[i][1] == zone[1]){\n\t\t\texceptionalPrice = true\n\t\t\tbreak\n\t\t}\n\t}\n\n\tlet spaPrice = document.getElementById(\"spa-price-\"+index)\n\t\n\tlet price = [0,0]\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\tif (sessionSpa[i].id == index) {\n\t\t\tif (exceptionalPrice) {\n\t\t\t\tprice[0] += dataForm[sessionSpa[i].time][1] // prix\n\t\t\t\tprice[1] += dataForm[sessionSpa[i].time][3] // acompte\n\t\t\t}else{\n\t\t\t\tprice[0] += dataForm[sessionSpa[i].time][2] // prix\n\t\t\t\tprice[1] += dataForm[sessionSpa[i].time][4] // acompte\n\t\t\t}\n\t\t\tlet spa = sessionSpa[i].option\n\t\t\tfor (var j = spa.length - 1; j >= 0; j--) {\n\t\t\t\tprice[0] += dataOption[spa[j]][2]\n\t\t\t}\n\t\t\tspaPrice.innerHTML = \"<li class=\\\"li-prix hidden\\\">Prix : \"+price[0]+\"€ </li><li class=\\\"li-acompte hidden\\\">Acompte : \"+price[1]+\"€</li>\"\n\t\t\tbreak\n\t\t}\n\t}\n}\n\nfunction priceTotalForAllSpa(dataOption,dataForm){\n\tlet exceptionalDate = [[\"14\",\"02\"],[\"24\",\"12\"],[\"25\",\"12\"],[\"31\",\"12\"]]\n\tlet zone = JSON.parse(sessionStorage.getItem(\"zone\"))\n\tzone = zone.date.split(\"/\") // MM - DD - YYYY\n\tlet exceptionalPrice = false\n\tfor (var i = exceptionalDate.length - 1; i >= 0; i--) {\n\t\tif (exceptionalDate[i][0] == zone[0] && exceptionalDate[i][1] == zone[1]){\n\t\t\texceptionalPrice = true\n\t\t\tbreak\n\t\t}\n\t}\n\n\tlet spanPriceTotal = document.getElementById(\"spa-price-total\")\n\tlet prixSomme = [0,0]\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tlet tmp = \"\"\n\tfor (var i = sessionSpa.length - 1; i >= 0; i--) {\n\t\t// somme heurs des spa\n\t\tif (sessionSpa[i].time != \"\") {\n\t\t\tif (exceptionalPrice) {\n\t\t\t\tprixSomme[0] += dataForm[sessionSpa[i].time][1] // prix\n\t\t\t\tprixSomme[1] += dataForm[sessionSpa[i].time][3] // acompte\n\t\t\t}else{\n\t\t\t\tprixSomme[0] += dataForm[sessionSpa[i].time][2] // prix\n\t\t\t\tprixSomme[1] += dataForm[sessionSpa[i].time][4] // acompte\n\t\t\t}\n\t\t\t// some prix pour les options déco\n\t\t\ttmp = sessionSpa[i].option\n\t\t\tfor (var j = tmp.length - 1; j >= 0; j--) {\n\t\t\t\tprixSomme[0] += dataOption[tmp[j]][2]\n\t\t\t}\n\t\t}\n\t}\n\n\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"))\n\tprestations.priceSpa = prixSomme[0]\n\tsessionStorage.setItem(\"prestations\",JSON.stringify(prestations))\n\n\tspanPriceTotal.innerHTML = \" : \"+prixSomme[0]+\" € \"\n\tspanPriceTotal.dataset.price = \"[\"+[prixSomme[0],prixSomme[1]]+\"]\"\n\t// Grand prix total\n\tbigTotalPrice()\n}\n\n/*==========================================================================*/\n\t// fonction principale MASSAGE\n\tfunction addCategoryMassage(){\n\t\tlet id = incrementeInc()\n\t\tlet data = document.getElementById('form-data').dataset\n\t\tlet dataMassages = JSON.parse(data.massages)\n\t\tlet categories = []\n\t\tif ( this.dataset.cat == \"Homme\") {\n\t\t\tcategories = dataMassages[0]\n\t\t}else{\n\t\t\tcategories = dataMassages[1]\n\t\t}\n\t// Enregistrement dans la session\n\t\n\tlet sessionSpa = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tsessionSpa.push({id:id,cat:categories[0],sub:\"\",time:\"\"})\n\tsessionStorage.setItem(\"massages\",JSON.stringify(sessionSpa))\n\t/* ************************************** MILA MODAL NGAMBA */\n\tif (sessionSpa.length >= 1){\n\t\tlet homme = document.getElementById('addHomme')\n\t\tlet femme = document.getElementById('addFemme')\n\t\thomme.addEventListener('click',showAlert);\n\t\tfemme.addEventListener('click',showAlert);\n\t}\n\n\tif (sessionSpa){\n\t\tlet moinhomme = document.getElementById('moinHomme')\n\t\tlet moinfemme = document.getElementById('moinFemme')\n\n\t\tmoinhomme.addEventListener('click',deletAlert);\n\t\tmoinfemme.addEventListener('click',deletAlert);\n\t}\n\tfunction deletAlert(){\n\t\tlet homme = document.getElementById('addHomme')\n\t\tlet femme = document.getElementById('addFemme')\n\n\t\thomme.removeAttribute(\"data-target\");\n\t\thomme.removeAttribute(\"data-toggle\");\n\t\tfemme.removeAttribute(\"data-target\");\n\t\tfemme.removeAttribute(\"data-toggle\");\n\t\tif(sessionSpa.length > 0 ){\n\t\t\t\tsessionSpa.splice(-1,1);\n\t\t}\n\t}\n\n\tfunction showAlert(){\n\t\tlet homme = document.getElementById('addHomme')\n\t\tlet femme = document.getElementById('addFemme')\n\t\tif (sessionSpa.length >= 1){\n\t\t\thomme.setAttribute(\"data-target\", \"#pushMassage2\");\n\t\t\thomme.setAttribute(\"data-toggle\", \"modal\");\n\t\t\tfemme.setAttribute(\"data-target\", \"#pushMassage2\");\n\t\t\tfemme.setAttribute(\"data-toggle\", \"modal\");\n\t\t}\n\t}\n\t/* ************************************** MILA MODAL NGAMBA */\n\t// Modification dans le DOM\n\tactualiseDomMassage(this.dataset.cat,id)\n}\n\nfunction actualiseDomMassage(name,id,sub=null,time=null){\n\tlet div = document.createElement('div')\n\tdiv.classList.add('massage-list-'+name)\n\tif (sub != null && time != null) {\n\t\tdiv.innerHTML = valueToHtmlMassage(name,id,sub,time)\n\t}else{\n\t\tdiv.innerHTML = valueToHtmlMassage(name,id)\t\n\t}\n\tdocument.getElementById(\"massage-order\").innerHTML += \"<div id=\\\"list-order-\"+id+\"\\\" class=\\\"hidden\\\"><div><p class=\\\"msg-duration\\\">\"+ name +\"</p></div><div class=\\\"prestation-message\\\"><li class=\\\"li-msgType\\\"></li><div><ul></ul></div></div></div>\"\n\n\tdocument.getElementById('massage-input').appendChild(div)\n\n\t// nombre de massage pour homme et femme\n\tnumberMassageSelected(name)\n\t// evement pour afficher les horaires disponible pour un massages\n\tlet checkRadio = document.querySelectorAll('.massage-su');\n\tcheckRadio.forEach(checkR => {\n\t\tcheckR.addEventListener('change',showTimesOnClickMassageSu);\n\t});\n\t// evenement pour ajouter un element si une Time est cocher\n\tlet checkRadioList = document.querySelectorAll('.input-time-list');\n\tcheckRadioList.forEach(checkR => {\n\t\tcheckR.addEventListener('change',addMassageInOrder);\n\t});\n\t// Grand prix total\n\tbigTotalPrice()\n}\n\n/* ########################################################################################################################################################################## */\n/* ########################################################################################################################################################################## */\n\nfunction addMassageInOrder(){\n\tlet dataForm = JSON.parse(document.getElementById('form-data').dataset.spas)\n\tlet dataOption = JSON.parse(document.getElementById('form-data').dataset.spaoptions)\n\tlet dataMassages = JSON.parse(document.getElementById('form-data').dataset.massages)\n\t/*  [id,i,j]  */\n\t// <input class=\"input-time-list\" type=\"radio\" value=\"60\" id=\"time164\" name=\"massageSuPrice[4][]\" data-info=\"[4,6,1]\" data-name=\"Homme\">\n\tlet myData = JSON.parse(this.dataset.info)\n\t// Modifier la session\n\tlet sessionMassage = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tfor (var i = sessionMassage.length - 1; i >= 0; i--) {\n\t\tif(sessionMassage[i].id == myData[0]){\n\t\t\tsessionMassage[i].time = myData[2]\n\t\t\tnumberAtOrderBtn()\n\t\t}\n\t}\n\tsessionStorage.setItem(\"massages\",JSON.stringify(sessionMassage))\n\t// Calculer le prix et ajouter dans le dom\n\t// priceTotalForOneMassage(this.dataset.name,myData,this.dataset.sub)\n\tpriceTotalForOneMassage(dataMassages,myData[0])\n\tpriceTotalForAllMassage(dataMassages)\n}\n\nfunction priceTotalForOneMassage(dataMassages,myData){\n\tlet exceptionalDate = [[\"14\",\"02\"],[\"24\",\"12\"],[\"25\",\"12\"],[\"31\",\"12\"]]\n\tlet zone = JSON.parse(sessionStorage.getItem(\"zone\"))\n\tzone = zone.date.split(\"/\") // MM - DD - YYYY\n\tlet exceptionalPrice = false\n\tfor (var i = exceptionalDate.length - 1; i >= 0; i--) {\n\t\tif (exceptionalDate[i][0] == zone[0] && exceptionalDate[i][1] == zone[1]){\n\t\t\texceptionalPrice = true\n\t\t\tbreak\n\t\t}\n\t}\n\n\tlet sub =\"\"\n\tlet time =\"\"\n\tlet cat =\"\"\n\n\tlet sessionMassage = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tfor (var i = sessionMassage.length - 1; i >= 0; i--) {\n\t\tif (sessionMassage[i].id == myData) {\n\t\t\tsub = sessionMassage[i].sub\n\t\t\ttime = sessionMassage[i].time\n\t\t\tcat = sessionMassage[i].cat\n\t\t\tbreak\n\t\t}\n\t}\n\tlet categories = []\n\tif ( cat == \"Homme\") {\n\t\tcategories = dataMassages[0]\n\t}else{\n\t\tcategories = dataMassages[1]\n\t}\n\tlet divMassage = document.getElementById(\"list-order-\"+myData)\n\tdocument.getElementById(\"massage-order\").classList.remove('hidden')\n\tdivMassage.classList.remove('hidden')\n\tdivMassage.getElementsByTagName(\"li\")[0].innerHTML = categories[1][sub][0]\n\t//  [30, 70, 30, 50, 20]\n\tif (exceptionalPrice) {\n\t\tdivMassage.getElementsByTagName(\"ul\")[0].innerHTML = \"<li class=\\\"li-msgPrix hidden\\\">Prix: \"+categories[1][sub][1][time][1]+\"€</li><li class=\\\"li-msgAcompte hidden\\\">Acompte: \"+categories[1][sub][1][time][2]+\"€</li>\"\n\t}else{\n\t\tdivMassage.getElementsByTagName(\"ul\")[0].innerHTML = \"<li class=\\\"li-msgPrix hidden\\\">Prix: \"+categories[1][sub][1][time][3]+\"€</li><li class=\\\"li-msgAcompte hidden\\\">Acompte: \"+categories[1][sub][1][time][4]+\"€</li>\"\n\t}\n}\n\nfunction priceTotalForAllMassage(dataMassages){\n\tlet exceptionalDate = [[\"14\",\"02\"],[\"24\",\"12\"],[\"25\",\"12\"],[\"31\",\"12\"]]\n\tlet zone = JSON.parse(sessionStorage.getItem(\"zone\"))\n\tzone = zone.date.split(\"/\") // MM - DD - YYYY\n\tlet exceptionalPrice = false\n\tfor (var i = exceptionalDate.length - 1; i >= 0; i--) {\n\t\tif (exceptionalDate[i][0] == zone[0] && exceptionalDate[i][1] == zone[1]){\n\t\t\texceptionalPrice = true\n\t\t\tbreak\n\t\t}\n\t}\n\n\tlet sessionMassage = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tlet price = 0\n\tlet acompte = 0\n\tfor (var i = sessionMassage.length - 1; i >= 0; i--) {\n\t\tif (typeof(sessionMassage[i].sub) == \"number\" && typeof(sessionMassage[i].time) == \"number\") {\n\t\t\tlet categories = []\n\t\t\tif ( sessionMassage[i].cat == \"Homme\") {\n\t\t\t\tcategories = dataMassages[0]\n\t\t\t}else{\n\t\t\t\tcategories = dataMassages[1]\n\t\t\t}\n\n\t\t\tif (exceptionalPrice) {\n\t\t\t\tprice += categories[1][sessionMassage[i].sub][1][sessionMassage[i].time][1]\n\t\t\t\tacompte += categories[1][sessionMassage[i].sub][1][sessionMassage[i].time][2]\n\t\t\t}else{\n\t\t\t\tprice += categories[1][sessionMassage[i].sub][1][sessionMassage[i].time][3]\n\t\t\t\tacompte += categories[1][sessionMassage[i].sub][1][sessionMassage[i].time][4]\n\t\t\t}\n\t\t}\n\t}\n\n\tdocument.getElementById(\"massage-price-total\").innerHTML = \" : \"+price+\"€\"+acompte+\"€\"\n\tdocument.getElementById(\"massage-price-total\").dataset.price = \"[\"+[price,acompte]+\"]\"\n\n\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"))\n\tprestations.priceMassage = price\n\tsessionStorage.setItem(\"prestations\",JSON.stringify(prestations))\t\n\tdocument.getElementById(\"massage-price-total\").innerHTML = \" : \"+price+\" € \"\n\n\tif (price == 0 && acompte == 0) {\n\t\tdocument.getElementById(\"massage-order\").classList.add('hidden')\n\t}\n\t// Grand prix total\n\tbigTotalPrice()\n}\n\n/* ########################################################################################################################################################## */\n/* ########################################################################################################################################################################## */\n\nfunction removeCategoryMassage(){\n\tlet dataMassages = JSON.parse(document.getElementById('form-data').dataset.massages)\n\t// Enregistrement dans la session\n\tlet sessionMassage = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tfor (var i = sessionMassage.length - 1; i >= 0; i--) {\n\t\tif(sessionMassage[i].cat == this.dataset.cat){\n\t\t\tdocument.getElementById(\"list-order-\"+sessionMassage[i].id).remove()\n\t\t\tsessionMassage.splice(i,1)\n\t\t\tbreak\n\t\t}\n\t}\n\tsessionStorage.setItem(\"massages\",JSON.stringify(sessionMassage))\n\t// Modification dans le DOM\n\tlet list = document.getElementsByClassName('massage-list-'+this.dataset.cat)\n\tif (list.length > 0) {\n\t\tlist[list.length-1].remove()\n\t}\n\t// nombre de massage pour homme et femme\n\tnumberMassageSelected(this.dataset.cat)\n\n\tnumberAtOrderBtn()\n\tpriceTotalForAllMassage(dataMassages)\n\t// Grand prix total\n\tbigTotalPrice()\n}\n/*==========================================================================*/\n\t// fonction principale CADEAU\n\tfunction removeCadeau(){\n\t\tlet id = JSON.parse(this.dataset.id)\n\t\tlet cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\t\tfor (var i = cadeau.length - 1; i >= 0; i--) {\n\t\t\tif(cadeau[i][0] == id){\n\t\t\t\tcadeau[i][1]--\n\t\t\t\tdocument.getElementById(id+\"-nbr\").innerHTML = cadeau[i][1]\n\t\t\t\tif(cadeau[i][1] == 0){\n\t\t\t\t\tcadeau.splice(i,1)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\tsessionStorage.setItem(\"cadeau\",JSON.stringify(cadeau))\n\t\tnumberAtOrderBtn()\n\n\t\tlet changeCadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\t\tvalueInInput = \"\"\n\t\tfor (var i = changeCadeau.length - 1; i >= 0; i--) {\n\t\t\tvalueInInput += changeCadeau[i][0]+\"-\"+changeCadeau[i][1]+\"|\"\n\t\t}\n\t\tdocument.getElementById(\"cadeau-id\").value = valueInInput\n\t// calcul du prix\n\tpriceForAllCadeau()\n}\nfunction aDDCadeau(){\n\tlet id = JSON.parse(this.dataset.id)\n\tlet cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\tlet test = true\n\tfor (var i = cadeau.length - 1; i >= 0; i--) {\n\t\tif(cadeau[i][0] == id){\n\t\t\ttest = false\n\t\t\tcadeau[i][1]++\n\t\t\tdocument.getElementById(id+\"-nbr\").innerHTML = cadeau[i][1]\n\t\t\tbreak\n\t\t}\n\t}\n\tif (test) {\n\t\tcadeau.push([id,1,this.dataset.name,this.dataset.price])\n\t\tdocument.getElementById(id+\"-nbr\").innerHTML = 1\n\t}\n\tsessionStorage.setItem(\"cadeau\",JSON.stringify(cadeau))\n\tnumberAtOrderBtn()\n\n\tlet changeCadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\tvalueInInput = \"\"\n\tfor (var i = changeCadeau.length - 1; i >= 0; i--) {\n\t\tvalueInInput += changeCadeau[i][0]+\"-\"+changeCadeau[i][1]+\"|\"\n\t}\n\tdocument.getElementById(\"cadeau-id\").value = valueInInput\n\t// calcul du prix\n\tpriceForAllCadeau()\n}\n\nfunction priceForAllCadeau(){\n\tlet addCadeau = document.querySelectorAll(\".cadeau-add\")\n\tinfoCadeau = []\n\taddCadeau.forEach(listCadeau => {\n\t\tinfoCadeau.push([JSON.parse(listCadeau.dataset.id),listCadeau.dataset.name,JSON.parse(listCadeau.dataset.price)])\n\t});\n\tlet cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\tlet orderCadeau = document.getElementById(\"cadeau-order\")\n\tlet totalPrice = 0\n\tlet elementDom = \"<ul>\"\n\tfor (var i = 0; i < cadeau.length; i++) {\n\t\tfor (var j = infoCadeau.length - 1; j >= 0; j--) {\n\t\t\tif (cadeau[i][0] == infoCadeau[j][0]){\n\t\t\t\ttotalPrice += cadeau[i][1]*infoCadeau[j][2] /* isany * prix */ /* infoCadeau[i][1] anarany*/\n\t\t\t\telementDom += \"<li class=\\\"li-cadeau\\\">\"+ infoCadeau[i][1] +\"<div class=\\\"nbr-cadeau\\\"> Nombres : \"+ cadeau[i][1] +\" <br> Prix : \"+ cadeau[i][1]*infoCadeau[j][2] +\" € </br></li>\"\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n\tif (totalPrice == 0) {\n\t\torderCadeau.classList.remove(\"hidden\")\n\t\torderCadeau.classList.add(\"hidden\")\n\t\tdocument.getElementById(\"cadeau-price-total\").innerHTML = \"\"\n\t}else{\n\t\torderCadeau.classList.remove(\"hidden\")\n\t\tdocument.getElementById(\"cadeau-price-total\").innerHTML = totalPrice\n\t\torderCadeau.getElementsByTagName(\"div\")[0].innerHTML = elementDom+\"</ul>\"\n\t}\n\t// Grand prix total\n\tbigTotalPrice()\n}\n\nfunction bigTotalPrice(){\n\tlet spa = document.getElementById(\"spa-price-total\").dataset.price\n\tlet massage = document.getElementById(\"massage-price-total\").dataset.price\n\n\tif ((spa == \"\" || spa == \"[0,0]\") && (massage == \"\" || massage == \"[0,0]\")) {\n\t\tdocument.getElementById(\"empty-order\").classList.remove(\"hidden\")\n\t}else{\n\t\tdocument.getElementById(\"empty-order\").classList.add(\"hidden\")\n\t}\n\tif (spa != \"\") {\n\t\tspa = JSON.parse(spa)\n\t}else{\n\t\tspa = [0,0]\n\t}\n\tif (massage != \"\") {\n\t\tmassage = JSON.parse(massage)\n\t}else{\n\t\tmassage = [0,0]\n\t}\n\tlet code_promo = 0\n\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"));\n\tif (prestations.code_promo) {\n\t\tcode_promo = prestations.code_promo[1]\n\t}\n\n\tlet somePrice = spa[0] + massage[0]\n\tlet someAcompte = spa[1] + massage[1]\n\n\tif(somePrice > 0){\n\t\tsomePrice -= code_promo\n\t}\n\tif(someAcompte > 0){\n\t\tsomeAcompte -= code_promo\n\t}\n\n\tdocument.getElementById(\"total-price\").innerHTML = somePrice\n\tdocument.getElementById(\"total-acompte\").innerHTML =  someAcompte\n}\n// pour l'enregistrement des donné dans le panier du boutons\nfunction numberAtOrderBtn(){\n\tlet spa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tlet massages = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tlet cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\tlet number = 0\n\tif (spa) {\n\t\tfor (var i = spa.length - 1; i >= 0; i--) {\n\t\t\tif(spa[i].time != \"\"){\n\t\t\t\tnumber++\n\t\t\t}\n\t\t}\n\t}\n\tif (massages) {\n\t\tfor (var i = massages.length - 1; i >= 0; i--) {\n\t\t\tif(typeof(massages[i].sub) != \"string\"){\n\t\t\t\tnumber++\t\n\t\t\t}\n\t\t}\n\t}\n\tif (cadeau) {\n\t\tfor (var i = cadeau.length - 1; i >= 0; i--) {\n\t\t\tnumber += cadeau[i][1]\n\t\t}\n\t}\n\tdocument.getElementById(\"number-cart-ok\").innerHTML = number\n}\n\ndocument.getElementById(\"nex-submi-tag\").addEventListener('click',submitFormulaire)\n\nfunction submitFormulaire(){\n\tif(true){\n\t\tdocument.getElementById(\"form-data\").submit()\n\t}else{\n\t\tdocument.getElementById(\"loc-spa-fafana\").classList.add(\"active\")\n\t\tdocument.getElementsByClassName(\"accordion-body js-accordion-body\").style.display=\"block\"\n\t}\n}\n\nfunction changePromoCode(prestations) {\n\tdocument.getElementById(\"alert-code\").classList.remove(\"hidden\");\n\tdocument.getElementById(\"form-promo-code\").classList.add(\"hidden\");\n\tdocument.getElementById(\"alert-code\").innerHTML = \"Votre code promo \"+ prestations.code_promo[0] +\" est validé avec succès.\" + \" Vous avez gagné un reduction de \" +prestations.code_promo[1]+ \"€ pour l'acompte total à payer!\";\n}\n\n// document.getElementById('submi-tag').onCl\n// LIGNE 580 RA ILAINA ILAY ACCOMPTE\n// spanPriceTotal.innerHTML = \"prix: \"+prixSomme[0]+\"€ acompte: \"+prixSomme[1]+\"€\"\n// LIGNE 712 RA ILAINA ILAY ACCOMPTE\n// document.getElementById(\"massage-price-total\").innerHTML = \"prix: \"+price+\" € \"+acompte+\"€\"\n\n/*\n\n\n\n*/\n"],"sourceRoot":""}