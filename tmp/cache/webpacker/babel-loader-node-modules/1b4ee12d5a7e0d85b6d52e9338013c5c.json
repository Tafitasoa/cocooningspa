{"ast":null,"code":"document.getElementById('cart-btn-ok').addEventListener('click', showCart);\nnumberOrder();\n\nfunction numberOrder() {\n  var spa = JSON.parse(sessionStorage.getItem(\"spa\"));\n  var massages = JSON.parse(sessionStorage.getItem(\"massages\"));\n  var cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"));\n  var prestations = JSON.parse(sessionStorage.getItem(\"prestations\"));\n  var number = 0;\n  var totalPrice = 0;\n  var spaAndMassage = \"<ul class=\\\"ul-btn\\\">\";\n\n  if (spa) {\n    for (var i = spa.length - 1; i >= 0; i--) {\n      if (spa[i].time != \"\") {\n        number++;\n      }\n    }\n  }\n\n  if (number > 0) {\n    spaAndMassage += \"<li>Location spa: \" + number + \" <br> Prix : \" + prestations.priceSpa + \"€</li>\";\n    totalPrice += Number(prestations.priceSpa);\n  }\n\n  var numberMassage = 0;\n\n  if (massages) {\n    for (var i = massages.length - 1; i >= 0; i--) {\n      if (typeof massages[i].sub != \"string\") {\n        numberMassage++;\n        number++;\n      }\n    }\n  }\n\n  if (numberMassage > 0) {\n    spaAndMassage += \"<li>Massage : \" + numberMassage + \" personnes <br>Prix : \" + prestations.priceMassage + \"€</li>\";\n    totalPrice += Number(prestations.priceMassage);\n  }\n\n  document.getElementById(\"cart-inner-prestation\").innerHTML = spaAndMassage + \"</ul>\";\n  var code_promo = 0;\n\n  if (prestations.code_promo) {\n    code_promo = prestations.code_promo[1];\n    document.getElementById(\"promo-code\").innerHTML = \"Réduction de \" + code_promo + \"€\";\n  } else {\n    document.getElementById(\"promo-code\").innerHTML = \"<ul class=\\\"ul-btn\\\">Vous n'avez pas inseré un code promo</ul>\";\n  }\n\n  if (typeof totalPrice != \"number\") {\n    document.getElementById(\"price-modal-cart\").innerHTML = 0 + \"€\";\n  } else {\n    document.getElementById(\"price-modal-cart\").innerHTML = totalPrice - code_promo + \"€\";\n  }\n\n  document.getElementById(\"number-cart-ok\").innerHTML = number;\n}\n\nfunction showCart() {\n  numberOrder();\n  var cart = document.getElementById(\"cart-inner-ok\");\n\n  if (cart.classList[0] == \"hidden\") {\n    cart.classList.remove(\"hidden\");\n  } else {// cart.classList.add(\"hidden\")\t\n  }\n}","map":{"version":3,"sources":["/Users/admin/Desktop/coconingspa/cocooningspa/app/javascript/packs/buttons-prestation.js"],"names":["document","getElementById","addEventListener","showCart","numberOrder","spa","JSON","parse","sessionStorage","getItem","massages","cadeau","prestations","number","totalPrice","spaAndMassage","i","length","time","priceSpa","Number","numberMassage","sub","priceMassage","innerHTML","code_promo","cart","classList","remove"],"mappings":"AAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,gBAAvC,CAAwD,OAAxD,EAAgEC,QAAhE;AACAC,WAAW;;AACX,SAASA,WAAT,GAAsB;AACrB,MAAIC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAV;AACA,MAAIC,QAAQ,GAAGJ,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAX,CAAf;AACA,MAAIE,MAAM,GAAGL,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,QAAvB,CAAX,CAAb;AACA,MAAIG,WAAW,GAAGN,IAAI,CAACC,KAAL,CAAWC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAX,CAAlB;AAEA,MAAII,MAAM,GAAG,CAAb;AACA,MAAIC,UAAU,GAAG,CAAjB;AAEA,MAAIC,aAAa,GAAG,uBAApB;;AACA,MAAIV,GAAJ,EAAS;AACR,SAAK,IAAIW,CAAC,GAAGX,GAAG,CAACY,MAAJ,GAAa,CAA1B,EAA6BD,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACzC,UAAGX,GAAG,CAACW,CAAD,CAAH,CAAOE,IAAP,IAAe,EAAlB,EAAqB;AACpBL,QAAAA,MAAM;AACN;AACD;AACD;;AAED,MAAIA,MAAM,GAAG,CAAb,EAAgB;AACfE,IAAAA,aAAa,IAAI,uBAAqBF,MAArB,GAA4B,eAA5B,GAA4CD,WAAW,CAACO,QAAxD,GAAiE,QAAlF;AACAL,IAAAA,UAAU,IAAGM,MAAM,CAACR,WAAW,CAACO,QAAb,CAAnB;AACA;;AAED,MAAIE,aAAa,GAAG,CAApB;;AAEA,MAAIX,QAAJ,EAAc;AACb,SAAK,IAAIM,CAAC,GAAGN,QAAQ,CAACO,MAAT,GAAkB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0CA,CAAC,EAA3C,EAA+C;AAC9C,UAAG,OAAON,QAAQ,CAACM,CAAD,CAAR,CAAYM,GAAnB,IAA2B,QAA9B,EAAuC;AACtCD,QAAAA,aAAa;AACbR,QAAAA,MAAM;AACN;AACD;AACD;;AAED,MAAIQ,aAAa,GAAG,CAApB,EAAuB;AACtBN,IAAAA,aAAa,IAAI,mBAAiBM,aAAjB,GAA+B,wBAA/B,GAAwDT,WAAW,CAACW,YAApE,GAAiF,QAAlG;AACAT,IAAAA,UAAU,IAAGM,MAAM,CAACR,WAAW,CAACW,YAAb,CAAnB;AACA;;AAEDvB,EAAAA,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,EAAiDuB,SAAjD,GAA6DT,aAAa,GAAC,OAA3E;AAEA,MAAIU,UAAU,GAAG,CAAjB;;AAEA,MAAIb,WAAW,CAACa,UAAhB,EAA4B;AAC3BA,IAAAA,UAAU,GAAGb,WAAW,CAACa,UAAZ,CAAuB,CAAvB,CAAb;AACAzB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCuB,SAAtC,GAAkD,kBAAgBC,UAAhB,GAA2B,GAA7E;AACA,GAHD,MAGK;AACJzB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCuB,SAAtC,GAAkD,gEAAlD;AACA;;AAED,MAAI,OAAOV,UAAP,IAAqB,QAAzB,EAAmC;AAClCd,IAAAA,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CuB,SAA5C,GAAwD,IAAE,GAA1D;AACA,GAFD,MAEK;AACJxB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,EAA4CuB,SAA5C,GAAyDV,UAAU,GAACW,UAAZ,GAAwB,GAAhF;AACA;;AACDzB,EAAAA,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CuB,SAA1C,GAAsDX,MAAtD;AAEA;;AAED,SAASV,QAAT,GAAmB;AAClBC,EAAAA,WAAW;AACX,MAAIsB,IAAI,GAAG1B,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAX;;AACA,MAAIyB,IAAI,CAACC,SAAL,CAAe,CAAf,KAAqB,QAAzB,EAAkC;AACjCD,IAAAA,IAAI,CAACC,SAAL,CAAeC,MAAf,CAAsB,QAAtB;AACA,GAFD,MAEK,CACJ;AACA;AACD","sourcesContent":["document.getElementById('cart-btn-ok').addEventListener('click',showCart)\nnumberOrder()\nfunction numberOrder(){\n\tlet spa = JSON.parse(sessionStorage.getItem(\"spa\"))\n\tlet massages = JSON.parse(sessionStorage.getItem(\"massages\"))\n\tlet cadeau = JSON.parse(sessionStorage.getItem(\"cadeau\"))\n\tlet prestations = JSON.parse(sessionStorage.getItem(\"prestations\"))\n\n\tlet number = 0\n\tlet totalPrice = 0\n\n\tlet spaAndMassage = \"<ul class=\\\"ul-btn\\\">\"\n\tif (spa) {\n\t\tfor (var i = spa.length - 1; i >= 0; i--) {\n\t\t\tif(spa[i].time != \"\"){\n\t\t\t\tnumber++\n\t\t\t}\n\t\t}\n\t}\n\n\tif (number > 0) {\n\t\tspaAndMassage += \"<li>Location spa: \"+number+\" <br> Prix : \"+prestations.priceSpa+\"€</li>\"\n\t\ttotalPrice+= Number(prestations.priceSpa)\n\t}\n\n\tlet numberMassage = 0\n\n\tif (massages) {\n\t\tfor (var i = massages.length - 1; i >= 0; i--) {\n\t\t\tif(typeof(massages[i].sub) != \"string\"){\n\t\t\t\tnumberMassage++\n\t\t\t\tnumber++\n\t\t\t}\n\t\t}\n\t}\n\t\n\tif (numberMassage > 0) {\n\t\tspaAndMassage += \"<li>Massage : \"+numberMassage+\" personnes <br>Prix : \"+prestations.priceMassage+\"€</li>\"\n\t\ttotalPrice+= Number(prestations.priceMassage)\n\t}\n\n\tdocument.getElementById(\"cart-inner-prestation\").innerHTML = spaAndMassage+\"</ul>\"\n\n\tlet code_promo = 0\n\n\tif (prestations.code_promo) {\n\t\tcode_promo = prestations.code_promo[1]\n\t\tdocument.getElementById(\"promo-code\").innerHTML = \"Réduction de \"+code_promo+\"€\"\n\t}else{\n\t\tdocument.getElementById(\"promo-code\").innerHTML = \"<ul class=\\\"ul-btn\\\">Vous n'avez pas inseré un code promo</ul>\"\n\t}\n\n\tif (typeof(totalPrice)!= \"number\") {\n\t\tdocument.getElementById(\"price-modal-cart\").innerHTML = 0+\"€\"\n\t}else{\n\t\tdocument.getElementById(\"price-modal-cart\").innerHTML = (totalPrice-code_promo)+\"€\"\n\t}\n\tdocument.getElementById(\"number-cart-ok\").innerHTML = number\n\n}\n\nfunction showCart(){\n\tnumberOrder()\n\tlet cart = document.getElementById(\"cart-inner-ok\")\n\tif (cart.classList[0] == \"hidden\"){\n\t\tcart.classList.remove(\"hidden\")\t\n\t}else{\n\t\t// cart.classList.add(\"hidden\")\t\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}