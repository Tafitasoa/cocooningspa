{"ast":null,"code":"function requeteAjax() {\n  var idNumber = document.getElementById(\"notification_list\").dataset.notification;\n  var xhr = new XMLHttpRequest();\n  var ulContainer = document.getElementById(\"ul_notification_list\");\n  var newNotification = document.getElementById(\"number-hide\");\n\n  xhr.onreadystatechange = function () {\n    if (this.readyState == 4 && this.status == 200) {\n      data = this.response;\n\n      if (data.length > 0) {\n        for (var i = data.length - 1; i >= 0; i--) {\n          ulContainer.innerHTML = '<li><a data-view=\"' + data[i].notif.view + '\" rel=\"nofollow\" data-method=\"patch\" href=\"/admin/notification/' + data[i].notif.id + '\">' + data[i].notif.message + '</a><li>' + ulContainer.innerHTML;\n        }\n\n        newNotification.innerHTML = parseInt(newNotification.innerHTML) + data.length;\n        document.getElementById(\"notification_list\").dataset.notification = data[data.length - 1].notif.id + 1;\n      }\n    }\n  };\n\n  xhr.open(\"GET\", \"/all/\" + idNumber + \"/notifications.json\", true);\n  xhr.responseType = \"json\";\n  xhr.send();\n}\n\nsetInterval(requeteAjax, 10000);","map":{"version":3,"sources":["/Users/michaelrakotovao/Desktop/cocooningspa/app/javascript/packs/ajax_notification.js"],"names":["requeteAjax","idNumber","document","getElementById","dataset","notification","xhr","XMLHttpRequest","ulContainer","newNotification","onreadystatechange","readyState","status","data","response","length","i","innerHTML","notif","view","id","message","parseInt","open","responseType","send","setInterval"],"mappings":"AAAA,SAASA,WAAT,GAAsB;AACrB,MAAIC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,OAA7C,CAAqDC,YAApE;AACA,MAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACA,MAAIC,WAAW,GAAGN,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,CAAlB;AACA,MAAIM,eAAe,GAAGP,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAtB;;AACAG,EAAAA,GAAG,CAACI,kBAAJ,GAAyB,YAAW;AACnC,QAAG,KAAKC,UAAL,IAAmB,CAAnB,IAAwB,KAAKC,MAAL,IAAe,GAA1C,EAA+C;AAC9CC,MAAAA,IAAI,GAAG,KAAKC,QAAZ;;AACA,UAAID,IAAI,CAACE,MAAL,GAAc,CAAlB,EAAoB;AACnB,aAAK,IAAIC,CAAC,GAAGH,IAAI,CAACE,MAAL,GAAc,CAA3B,EAA8BC,CAAC,IAAI,CAAnC,EAAsCA,CAAC,EAAvC,EAA2C;AAC1CR,UAAAA,WAAW,CAACS,SAAZ,GAAwB,uBAAqBJ,IAAI,CAACG,CAAD,CAAJ,CAAQE,KAAR,CAAcC,IAAnC,GAAwC,iEAAxC,GAA0GN,IAAI,CAACG,CAAD,CAAJ,CAAQE,KAAR,CAAcE,EAAxH,GAA2H,IAA3H,GAAiIP,IAAI,CAACG,CAAD,CAAJ,CAAQE,KAAR,CAAcG,OAA/I,GAAwJ,UAAxJ,GAAqKb,WAAW,CAACS,SAAzM;AACA;;AACDR,QAAAA,eAAe,CAACQ,SAAhB,GAA4BK,QAAQ,CAACb,eAAe,CAACQ,SAAjB,CAAR,GAAoCJ,IAAI,CAACE,MAArE;AACAb,QAAAA,QAAQ,CAACC,cAAT,CAAwB,mBAAxB,EAA6CC,OAA7C,CAAqDC,YAArD,GAAoEQ,IAAI,CAACA,IAAI,CAACE,MAAL,GAAY,CAAb,CAAJ,CAAoBG,KAApB,CAA0BE,EAA1B,GAA6B,CAAjG;AACA;AACD;AACD,GAXD;;AAYAd,EAAAA,GAAG,CAACiB,IAAJ,CAAS,KAAT,EAAgB,UAAQtB,QAAR,GAAiB,qBAAjC,EAAwD,IAAxD;AACAK,EAAAA,GAAG,CAACkB,YAAJ,GAAmB,MAAnB;AACAlB,EAAAA,GAAG,CAACmB,IAAJ;AACA;;AACDC,WAAW,CAAC1B,WAAD,EAAc,KAAd,CAAX","sourcesContent":["function requeteAjax(){\n\tvar idNumber = document.getElementById(\"notification_list\").dataset.notification\n\tvar xhr = new XMLHttpRequest();\n\tvar ulContainer = document.getElementById(\"ul_notification_list\")\n\tvar newNotification = document.getElementById(\"number-hide\")\n\txhr.onreadystatechange = function() {\n\t\tif(this.readyState == 4 && this.status == 200) {\n\t\t\tdata = this.response\n\t\t\tif (data.length > 0){\n\t\t\t\tfor (var i = data.length - 1; i >= 0; i--) {\n\t\t\t\t\tulContainer.innerHTML = '<li><a data-view=\"'+data[i].notif.view+'\" rel=\"nofollow\" data-method=\"patch\" href=\"/admin/notification/'+data[i].notif.id+'\">'+ data[i].notif.message +'</a><li>' + ulContainer.innerHTML\n\t\t\t\t}\n\t\t\t\tnewNotification.innerHTML = parseInt(newNotification.innerHTML)+data.length\n\t\t\t\tdocument.getElementById(\"notification_list\").dataset.notification = data[data.length-1].notif.id+1\n\t\t\t}\n\t\t}\n\t};\n\txhr.open(\"GET\", \"/all/\"+idNumber+\"/notifications.json\", true)\n\txhr.responseType = \"json\"\n\txhr.send();\n}\nsetInterval(requeteAjax, 10000);\n"]},"metadata":{},"sourceType":"module"}